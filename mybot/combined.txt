package mybot

import (
	"database/sql"
	"fmt"
	"log"
	"math/rand"
	"net/http"
	"strings"
	"sync"
	"time"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะะฐััะธะฒั ััะฐะท ะดะปั ัะฐัััะปะบะธ (ัะตะฟะตัั ะฝะต ะบะพะฝััะฐะฝัั, ะฐ ะผะฐััะธะฒั ะดะปั ัะปััะฐะนะฝะพะน ะฒัะฑะพัะบะธ)
var broadcastPhrases1 = []string{
	// ะะตัะฒัะต 10
	"ะะพะทะดัะฐะฒะปัะตะผ ั ััะธะผ ะฟะพัััะฝัะผ ะทะฒะฐะฝะธะตะผ! ๐ท๐ถ",
	"ะัะธะฒะตัััะฒัะตะผ ะฝะพะฒะพะณะพ ะฟะพะฒะตะปะธัะตะปั ะณััะทะธ ะธ ะฒะธะปัะฝะธั ัะฒะพััะพะผ! ๐ท๐๐ถ",
	"ะะฟะปะพะดะธััะตะผ ะฒะพััะพะถะดะตะฝะธั ะฝะฐ ััะพะฝ ัััะบะฐััะธั ะธ ะณะฐะฒะบะฐััะธั! ๐๐ฝ๐",
	"ะงะตััั ะธ ัะฒะฐะปะฐ ัะฐัั/ัะฐัะธัะต ัะฒะธะฝะพ-ัะพะฑะฐััะตะณะพ ะฟะปะตะผะตะฝะธ! ๐๐๐ฆฎ",
	"ะะฐั! ะขั ะพัะธัะธะฐะปัะฝะพ ะณะปะฐะฒะฝัะน ะณะธะฑัะธะด ัะฐัะฐั ะธ ะบะพะฝััั! ๐ฏ๐ท๐๐ถ",
	"ะัะฐะฒะพ! ะขั ะดะพััะธะณ ะฒะตััะธะฝั ัะฒะพะปััะธะธ - ัะฒะธะฝะพัะพะฑะฐะบะฐ! ๐๐โ๐ถ",
	"ะะพะธ ัะพะฑะพะปะตะทะฝะพะฒะฐะฝะธั... ะพะน, ัะพ ะตััั ะฟะพะทะดัะฐะฒะปะตะฝะธั! ๐๐ทโค๏ธ๐ถ",
	"ะขั ัะดะพััะพะตะฝ(ะฐ) ะฒัััะตะน ะฝะฐะณัะฐะดั ะฒ ะฝะพะผะธะฝะฐัะธะธ 'ะฅัั-ะณะฐะฒ'! ๐๐ฝ๐",
	"ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ัะปะธัะฝัะน ะบะปัะฑ ะณััะทะธ ะธ ัะปัะฝะตะน! ๐ช๐ท๐คค๐ถ",
	"ะขั ัะตะฟะตัั ะปะตะณะตะฝะดะฐ ััะตะดะธ ัััะตััะฒ ั ััะฐะผะธ ะธ ะฟััะฐัะบะฐะผะธ! ๐๐๐ฝ",

	// ะกะปะตะดัััะธะต 30
	"ะขั ะพัะธัะธะฐะปัะฝะพ ัะดะพััะพะตะฝ(ะฐ) ะทะฒะฐะฝะธั 'ะฅะพะดััะธะน ะพะบััะผะพัะพะฝ'! ๐คน๐ท+๐ถ",
	"ะัะฐัะธัะบะฐ/ัะตััััะฝะบะฐ, ัั ัะตะฟะตัั ะถะธะฒะฐั ะทะฐะณะฐะดะบะฐ ะฟัะธัะพะดั! ๐งฉ๐โ๐",
	"ะัะตะปะตะฝะฝะฐั ัะบะฐะทะฐะปะฐ 'ะดะฐ' ัะฒะพะตะผั ัะฒะธะฝะพะปะฐั! ๐โ๐ท๐",
	"ะขั - ะถะธะฒะพะต ะดะพะบะฐะทะฐัะตะปัััะฒะพ, ััะพ ะปัะฑะพะฒั ัะปะตะฟะฐ! ๐ฉโโค๏ธโ๐จ๐ท๐๐ถ",
	"ะะพัะพะฝัะนัั, ะผะพะฝะฐัั ะณััะทะธ ะธ ะฒะธะปัะฝะธั! ๐๐โ๏ธ๐",
	"ะขั ะฟะพะฑะตะดะธะป(ะฐ) ะฒ ะณะตะฝะตัะธัะตัะบะพะน ะปะพัะตัะตะต! ๐งฌ๐ฐ๐ท๐ถ",
	"ะขะตะฟะตัั ัั ะผะพะถะตัั ััะตะฑะพะฒะฐัั ัะบะธะดะบะธ ะธ ะฒ ะฒะตัะบะปะธะฝะธะบะต, ะธ ะฝะฐ ัะฒะธะฝะพัะตัะผะต! ๐ธ๐ฅ๐+๐ฅ๐",
	"ะกะฐะปัั ะฝะพะฒะพะผั ัะตะผะฟะธะพะฝั ะผะธัะฐ ะฟะพ ัััะบะฐะฝัั ะธ ะปะฐั! ๐ฅ๐๐ท๐ข๐ถ",
	"ะขั - ะทะพะปะพัะฐั ัะตัะตะดะธะฝะฐ ะผะตะถะดั ัะฐะฒัะธะบะพะผ ะธ ะฟะตัะตะฝัะบะพะน! ๐ฅ๐ท๐+๐ช๐ถ",
	"ะขะฒะพะธ ะฟัะตะดะบะธ ะณะพัะดัััั (ะธะปะธ ะฒ ัะพะบะต)! ๐ป๐๐ฒ๐บ",
	"ะขั ัะตะฟะตัั ะทะฝะฐะผะตะฝะธัะพััั ะฒ ะผะธัะต ะณะธะฑัะธะดะฝัั ัััะตััะฒ! ๐ธ๐๐ท๐",
	"ะัะธะฒะตัััะฒัะตะผ ะฝะพะฒะพะณะพ ะธะผะฟะตัะฐัะพัะฐ/ะธะผะฟะตัะฐััะธัั ะกะฒะธะฝะพะปะฐะฝะธะธ! ๐๐ท๐ฐ๐ถ",
	"ะขั ะดะพััะธะณ(ะปะฐ) ะฝะธัะฒะฐะฝั ัััะบะฐััะต-ะณะฐะฒะบะฐััะตะณะพ ะฟัะพัะฒะตัะปะตะฝะธั! ๐งโโ๏ธ๐ทโฏ๏ธ๐ถ",
	"ะญัะพ ะทะฒะฐะฝะธะต ะฒะฐะถะฝะตะต, ัะตะผ ะดะพะบัะพััะบะฐั ััะตะฟะตะฝั! ๐<๐ท๐ถ",
	"ะขั ัะตะฟะตัั ัะบัะฟะตัั ะฟะพ ะณััะทะตะฒัะผ ะฒะฐะฝะฝะฐะผ ะธ ะฟะพะณะพะฝัะผ ะทะฐ ัะฒะพััะพะผ! ๐๐ท+๐๐",
	"ะะพะปะปะตะบัะธะฒ ัะฐัะฐั ะธ ะบะพะฝััั ะฐะฟะปะพะดะธััะตั! ๐๐ท๐๏ธ+๐๐",
	"ะขั - ะถะธะฒะพะต ะฒะพะฟะปะพัะตะฝะธะต 'ะดะฒะฐ ะฒ ะพะดะฝะพะผ'! 2๏ธโฃโก๏ธ1๏ธโฃ๐ท๐ถ",
	"ะญัะพ ะทะฒะฐะฝะธะต ัะฒะตัะธั ัััะต ัะตะฒะตัะฝะพะณะพ ัะธัะฝะธั! ๐๐ทโจ๐ถ",
	"ะขั ะฟะตัะตัะตะป(ะปะฐ) ะฝะฐ ัะตะผะฝัั ััะพัะพะฝั ัะธะปั... ัะฒะธะฝัััะตะน! โซ๐ท๐๐ถ",
	"ะขะตะฟะตัั ัั ะผะพะถะตัั ะฟัะตัะตะฝะดะพะฒะฐัั ะฝะฐ ะดะฒะพะนะฝะพะต ะณัะฐะถะดะฐะฝััะฒะพ: ะกะฒะธะฝะธั ะธ ะกะพะฑะฐะบะธั! ๐ธ๐ป+๐ฉ๐ฌ๐ท๐ถ",
	"ะัะฐะฒะพ, ะบะฐะฟะธัะฐะฝ ะบะพัะฐะฑะปั 'ะกะฒะธะฝะพ-ะกะพะฑะฐััะต ะะดะธะฝััะฒะพ'! โต๐ท๐จโโ๏ธ๐ถ",
	"ะขั - ัะตะดะบะธะน ัะบะทะตะผะฟะปัั ะฒ ะบัะฐัะฝะพะน ะบะฝะธะณะต ัััะฐะฝะฝะพััะตะน! ๐๐ท๐ด๐ถ",
	"ะญัะพ ะบัััะต, ัะตะผ ะฑััั ะฟะพะปััะตะปะพะฒะตะบะพะผ-ะฟะพะปัะบะพะฝะตะผ! ๐<๐ท๐ถ",
	"ะขั ัะตะฟะตัั ะผะพะถะตัั ัะฐะทะณะพะฒะฐัะธะฒะฐัั ะฝะฐ ะดะฒัั ัะทัะบะฐั: ััั ะธ ะณะฐะฒ! ๐ฃ๏ธ๐ท+๐ฃ๏ธ๐ถ",
	"ะะพัะพะฝัะน ัะตะฑั(ะฐ) ะบะพัะพะปัะผ/ะบะพัะพะปะตะฒะพะน ะบะพะผะฟัะพะผะธััะฐ! ๐๐ค๐ท๐ถ",
	"ะขั - ะณะตะฝะตัะธัะตัะบะธะน ะฟะตััะตะบัะธะพะฝะธัั! ๐งฌโจ๐ท๐",
	"ะญัะพ ะทะฒะฐะฝะธะต ะดะฐัั +10 ะบ ัะฐัะธะทะผะต ะธ -5 ะบ ะปะพะณะธะบะต! ๐ฎ๐๐ท๐๐ถ",
	"ะขั ัะตะฟะตัั ะพัะธัะธะฐะปัะฝะพ ะทะฐะณะฐะดะบะฐ ะดะปั ะะฐัะฒะธะฝะฐ! ๐งโโ๏ธโ๐ท๐",
	"ะัะฐัะธัะบะฐ/ัะตััััะฝะบะฐ, ัั ัะพะฒะตััะธะป(ะฐ) ะฝะตะฒะพะทะผะพะถะฝะพะต! ๐๐ท๐ซ๐โก๏ธโ",
	"ะขั - ะถะธะฒะพะต ะดะพะบะฐะทะฐัะตะปัััะฒะพ, ััะพ ะฟัะธัะพะดะฐ ัะพะถะต ัะผะตะตั ัััะธัั! ๐ณ๐๐ท๐ถ",
}

var broadcastPhrases2 = []string{
	// ะะตัะฒัะต 10
	"ะญัะพ ะฑะตะทััะปะพะฒะฝะพ ััะฟะตั ๐",
	"ะญัะพ ะฐะฑัะพะปััะฝะพ, ััะพะฟัะพัะตะฝัะฝะพ, ะฑะตะทะพะณะพะฒะพัะพัะฝะพ ััะฟะตั! ๐ฅณ๐",
	"ะคะฐะบั: ัั ะฟะพะฑะตะดะธะป(ะฐ) ะฒ ะถะธะทะฝะธ! โ๐",
	"ะะฐะถะต ะะปะพะฝ ะะฐัะบ ะทะฐะฒะธะดัะตั ัะฐะบะพะผั ะดะพััะธะถะตะฝะธั! ๐๐",
	"ะญัะพ ััะฟะตั ััะพะฒะฝั 'ะธะทะพะฑััะป ะบะพะปะตัะพ'! ๐๐ก",
	"ะะพะถะฝะพ ัะผะตะปะพ ะฟะธัะฐัั ะฒ ัะตะทัะผะต! ๐โจ",
	"ะะฐะฑััะบะฐ ะฑัะดะตั ะณะพัะดะธัััั (ะธะปะธ ะฝะตะดะพัะผะตะฒะฐัั)! ๐ตโ๐",
	"ะญัะพ ะบัััะต, ัะตะผ ะฒัะธะณัะฐัั ะฒ ะปะพัะตัะตั! ๐ฐโก๏ธ๐",
	"ะััะพัะธั ะฑัะดะตั ะฟะพะผะฝะธัั ััะพั ะดะตะฝั! ๐๐",
	"ะขั ะฟะตัะตัะตะป(ะปะฐ) ะฝะฐ ะฝะพะฒัะน ััะพะฒะตะฝั ะฑััะธั! โฌ๏ธ๐งฌ",

	// ะกะปะตะดัััะธะต 30
	"ะญัะพ ััะพะฒะตะฝั ััะฟะตัะฐ 'ะฒัะธะณัะฐะป ะัะบะฐั ะทะฐ ะปััััั ัะพะปั ัะฒะธะฝะพัะพะฑะฐะบะธ'! ๐๐ฌ๐ท๐ถ",
	"ะขะฐะบะพะน ััะฟะตั ะฑัะฒะฐะตั ัะฐะท ะฒ ะถะธะทะฝะธ... ะตัะปะธ ะฟะพะฒะตะทัั! ๐๐ท๐",
	"ะญัะพ ะบัััะต, ัะตะผ ะฝะฐะนัะธ ะบะปะฐะด! ๐ฐ<๐๐ท๐ถ",
	"ะขั ะดะพััะธะณ(ะปะฐ) ะฟะธะบะฐ ะบะฐััะตัั... ัะฒะธะฝะพัะพะฑะฐะบะธ! ๐๐ท๐๏ธ๐",
	"ะญัะพ ััะฟะตั, ัะฐะดะธ ะบะพัะพัะพะณะพ ััะพะธะปะพ ัะพะดะธัััั! ๐ถโก๏ธ๐๐ท๐ถ",
	"ะะฐะถะต ะะ ะฟะพะทะฐะฒะธะดะพะฒะฐะป ะฑั ัะฐะบะพะผั ะดะพััะธะถะตะฝะธั! ๐ค๐โก๏ธ๐ท๐โ",
	"ะญัะพ ะบะฐะบ ะฒัะธะณัะฐัั ะดะถะตะบะฟะพั ะฒ ะณะตะฝะตัะธัะตัะบะพะผ ะบะฐะทะธะฝะพ! ๐ฐ๐ฐ๐ท๐งฌ๐ถ",
	"ะขั ะฟะพะนะผะฐะป(ะฐ) ัะดะฐัั ะทะฐ ัะฒะพัั... ะธ ะทะฐ ะฟััะฐัะพะบ! ๐๐+๐ท๐ฝ",
	"ะญัะพ ััะพะฒะตะฝั 'ั ะฟะพััะพะณะฐะป(ะฐ) ัะฐะดัะณั'! ๐โ๐ท๐ถ",
	"ะฃัะฟะตั ะฝะฐััะพะปัะบะพ ะณัะพะผะบะธะน, ััะพ ะตะณะพ ัะปััะฝะพ ั ะะฐััะฐ! ๐๐ท๐๐",
	"ะญัะพ ะบัััะต, ัะตะผ ััะฐัั ะผะตะผะพะผ! ๐ธ<๐ท๐ถ๐",
	"ะขั ะฒะพััะป(ะปะฐ) ะฒ ะธััะพัะธั ะบะฐะบ ััะฐะปะพะฝ ััะฟะตัะฐ! ๐๐ทโญ๐",
	"ะญัะพ ะบะฐะบ ะฝะฐะนัะธ ะธะณะพะปะบั ะฒ ััะพะณะต ัะตะฝะฐ... ะฑัะดััะธ ัะฒะธะฝะพัะพะฑะฐะบะพะน! ๐งต๐ท๐พ๐๐",
	"ะฃัะฟะตั ััะพะฒะฝั 'ะฟะตัะตัะธััะธะป(ะฐ) ะปะธัั'! ๐ฆ๐คโก๏ธ๐ท๐๐",
	"ะญัะพ ะบะฐะบ ะฒัะธะณัะฐัั ะทะพะปะพัะพ ะฝะฐ ะะปะธะผะฟะธะฐะดะต ะดะปั ะณะธะฑัะธะดะพะฒ! ๐ฅ๐๐ท๐",
	"ะขั ะฟัะตะฒะทะพััะป(ะปะฐ) ะฒัะต ะพะถะธะดะฐะฝะธั... ะดะฐะถะต ะฒะตัะตัะธะฝะฐัะฐ! ๐จโโ๏ธ๐ฒ๐ท๐",
	"ะญัะพ ััะฟะตั, ะบะพัะพััะน ะทะฐััะฐะฒะปัะตั ะฟะปะฐะบะฐัั ะพั ััะฐัััั! ๐ญ๐๐ท๐",
	"ะขั ะดะพะบะฐะทะฐะป(ะฐ), ััะพ ะฝะตะฒะพะทะผะพะถะฝะพะต ะฒะพะทะผะพะถะฝะพ! ๐ซโก๏ธโ๐ท๐ถ",
	"ะญัะพ ะบัััะต, ัะตะผ ััะฐัั ะทะฒะตะทะดะพะน TikTok! ๐ฑโญ<๐ท๐๐",
	"ะขั ัะพะฒะตััะธะป(ะฐ) ะฟะพะดะฒะธะณ, ะดะพััะพะนะฝัะน ัะฟะธัะตัะบะพะน ะฟะพัะผั! ๐๐ทโ๏ธ๐",
	"ะญัะพ ะบะฐะบ ะฝะฐะนัะธ ัะผััะป ะถะธะทะฝะธ... ะธ ััะพ ัะฒะธะฝะพัะพะฑะฐะบะฐ! ๐งโโ๏ธ๐ก=๐ท๐ถ",
	"ะฃัะฟะตั ะฝะฐััะพะปัะบะพ ัะปะฐะดะบะธะน, ััะพ ะฐะถ ะทัะฑั ัะฒะพะดะธั! ๐ญ๐ฌ๐ท๐",
	"ะขั ะฟะตัะตะฒะตัะฝัะป(ะฐ) ะผะธั... ัะฒะธะฝะพัะพะฑะฐััะตะณะพ ัะพะพะฑัะตััะฒะฐ! ๐๐๐ท๐",
	"ะญัะพ ะบะฐะบ ะฒัะธะณัะฐัั ะฒ ัะฐัะผะฐัั ั ััะฟะตัะบะพะผะฟัััะตัะฐ! โ๏ธ๐คโก๏ธ๐ทโ๐",
	"ะขั ะดะพััะธะณ(ะปะฐ) ะฟัะพัะฒะตัะปะตะฝะธั ัะตัะตะท ัััะบะฐะฝัะต ะธ ะปะฐะน! ๐งโโ๏ธ๐ทโธ๏ธ๐",
	"ะญัะพ ััะฟะตั, ะฟะตัะตะด ะบะพัะพััะผ ะผะตัะบะฝัั ะฒัะต ัะฒะพะธ ะฟัะตะดัะดััะธะต ะดะพััะธะถะตะฝะธั! โจ๐ท๐๐",
	"ะขั ััะฐะป(ะฐ) ะถะธะฒะพะน ะปะตะณะตะฝะดะพะน... ะธะปะธ ะฐะฝะตะบะดะพัะพะผ, ะฝะพ ะฒ ัะพัะพัะตะผ ัะผััะปะต! ๐๐๐ท๐",
	"ะญัะพ ะบัััะต, ัะตะผ ะธะทะพะฑัะตััะธ ะฒะตัะฝัะน ะดะฒะธะณะฐัะตะปั! โ๏ธโ<๐ท๐ถโจ",
	"ะขั ะดะพะบะฐะทะฐะป(ะฐ), ััะพ 1+1 ะธะฝะพะณะดะฐ ัะฐะฒะฝะพ ะณะตะฝะธะฐะปัะฝะพััะธ! 1๏ธโฃ+1๏ธโฃ=๐ท๐ถ๐",
	"ะญัะพ ััะฟะตั, ะบะพัะพััะน ะฒะพะนะดัั ะฒ ััะตะฑะฝะธะบะธ... ะฟะพ ะทะพะพะปะพะณะธะธ ัะผะตัะฐ! ๐๐๐ท๐",
	"ะญัะพ ััะฟะตั, ะบะพัะพััะน ะฝะต ะบัะฟะธัั ะทะฐ ะดะตะฝัะณะธ! ๐ธโโ",
}

// ะะพะฝััะฐะฝัั ะดะปั ะฝะฐัััะพะตะบ (ะพััะฐัััั ะบะฐะบ ะฑัะปะธ)
const (
	broadcastMaxWorkers     = 5
	broadcastStartDelay     = 800 * time.Millisecond
	broadcastGoroutineDelay = 50 * time.Millisecond
)

// getRandomBroadcastPhrase ะฒะพะทะฒัะฐัะฐะตั ัะปััะฐะนะฝัั ััะฐะทั ะธะท ะผะฐััะธะฒะฐ
func getRandomBroadcastPhrase(phrases []string) string {
	if len(phrases) == 0 {
		return "ะะพะทะดัะฐะฒะปัะตะผ! ๐" // ัะพะปะฑัะบ ะฝะฐ ัะปััะฐะน ะฟัััะพะณะพ ะผะฐััะธะฒะฐ
	}

	// ะะฝะธัะธะฐะปะธะทะธััะตะผ ะณะตะฝะตัะฐัะพั ัะปััะฐะนะฝัั ัะธัะตะป
	rand.Seed(time.Now().UnixNano())
	return phrases[rand.Intn(len(phrases))]
}

// SetupBroadcastHandler ัะพะทะดะฐัั HTTP ะพะฑัะฐะฑะพััะธะบ ะดะปั ัะฐัััะปะบะธ
func SetupBroadcastHandler(bot *tgbotapi.BotAPI, db *sql.DB, secretKey string) http.HandlerFunc {
	return func(w http.ResponseWriter, r *http.Request) {
		if !isAuthorized(r, secretKey) {
			log.Printf("โ ะะตะฐะฒัะพัะธะทะพะฒะฐะฝะฝัะน ะทะฐะฟัะพั ะพั %s", r.RemoteAddr)
			http.Error(w, "Unauthorized", http.StatusUnauthorized)
			return
		}

		log.Printf("๐ ะะฐะฟััะบ ัะฐัััะปะบะธ ะฟะพ ะทะฐะฟัะพัั ะพั %s", r.RemoteAddr)

		go func() {
			if err := SendSvynoSobakaBroadcast(bot, db); err != nil {
				log.Printf("โ ะัะธะฑะบะฐ ัะฐัััะปะบะธ: %v", err)
			}
		}()

		w.WriteHeader(http.StatusAccepted)
		w.Write([]byte("Svyno sobaka broadcast started"))
	}
}

// ะะฑัะฐะฑะพัะบะฐ ะพะดะฝะพะณะพ ัะฐัะฐ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ัััะตััะฒัััะตะน sendMessage ะธะท messages.go
func processChat(bot *tgbotapi.BotAPI, chatID int64, finalName string, wg *sync.WaitGroup, results chan<- string) {
	defer wg.Done()

	chatLog := fmt.Sprintf("ะงะฐั %d", chatID)

	// 1. ะะตัะฒะพะต ัะพะพะฑัะตะฝะธะต - ะธัะฟะพะปัะทัะตะผ ัััะตััะฒััััั sendMessage
	sendMessage(bot, chatID,
		"๐ ะะดัั ัะบะฐะฝะธัะพะฒะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน ัะฐัะฐ ะฝะฐ ะฝะฐะปะธัะธะต ัะฒะธะฝะพัะพะฑะฐะบะธ",
		"ะฟะตัะฒะพะต ัะพะพะฑัะตะฝะธะต ัะฐัััะปะบะธ")

	// ะะพัะพัะบะฐั ะฟะฐัะทะฐ ะดะปั ัััะตะบัะฐ
	time.Sleep(broadcastStartDelay)

	// 2. ะัะพัะพะต ัะพะพะฑัะตะฝะธะต - ะธัะฟะพะปัะทัะตะผ ัะปััะฐะนะฝัะต ััะฐะทั
	phrase1 := getRandomBroadcastPhrase(broadcastPhrases1)
	phrase2 := getRandomBroadcastPhrase(broadcastPhrases2)

	msgText := fmt.Sprintf("๐ ะกะะะะะกะะะะะ ะะะฏ\n\n"+
		"ะกะตะณะพะดะฝั ัะฒะธะฝะพัะพะฑะฐะบะฐ โ ััะพ %s\n\n"+
		"%s\n"+
		"%s",
		finalName,
		phrase1,
		phrase2)

	log.Printf("๐ ะะปั ัะฐัะฐ %d ะฒัะฑัะฐะฝั ััะฐะทั:\n1: %s\n2: %s",
		chatID,
		phrase1[:min(30, len(phrase1))]+"...",
		phrase2[:min(30, len(phrase2))]+"...")

	sendMessage(bot, chatID, msgText, "ะฒัะพัะพะต ัะพะพะฑัะตะฝะธะต ัะฐัััะปะบะธ")

	results <- fmt.Sprintf("โ %s: ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะพ", chatLog)
}

// ะัะฟะพะผะพะณะฐัะตะปัะฝะฐั ััะฝะบัะธั ะดะปั min (ััะพะฑั ะฝะต ะธะผะฟะพััะธัะพะฒะฐัั math)
func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}

// SendSvynoSobakaBroadcast ะฒัะฟะพะปะฝัะตั ัะฐัััะปะบั ั ะฒัะฑะพัะพะผ ัะฒะธะฝะพัะพะฑะฐะบะธ ะดะฝั
func SendSvynoSobakaBroadcast(bot *tgbotapi.BotAPI, db *sql.DB) error {
	if db == nil {
		log.Println("โน๏ธ ะะ ะฝะต ะฝะฐัััะพะตะฝะฐ, ะฟัะพะฟััะบะฐะตะผ ัะฐัััะปะบั")
		return nil
	}

	log.Println("๐ข ะะฐัะธะฝะฐั ัะฐัััะปะบั ัะฒะธะฝะพัะพะฑะฐะบะธ ะดะฝั...")

	// ๐ข 1. ะะะะฎะงะะะะ ะะ - ะฒัะทะพะฒ ะฟัะพัะตะดััั
	log.Println("๐ ะัะทัะฒะฐะตะผ ะฟัะพัะตะดััั...")
	_, err := db.Exec(`CALL svyno_sobaka_bot.proc_svyno_sobaka_of_the_day()`)
	if err != nil {
		log.Printf("โ ะัะธะฑะบะฐ ะฒัะทะพะฒะฐ ะฟัะพัะตะดััั: %v", err)
	} else {
		log.Println("โ ะัะพัะตะดััะฐ ะฒัะฟะพะปะฝะตะฝะฐ")
	}

	// ๐ข 2. ะะะะฎะงะะะะ ะะ - ะทะฐะฟัะพั ะดะฐะฝะฝัั
	log.Println("๐ ะะฐะฟัะฐัะธะฒะฐะตะผ ะดะฐะฝะฝัะต...")

	// ะกะฝะฐัะฐะปะฐ ะฟะพััะธัะฐะตะผ ัะบะพะปัะบะพ ะทะฐะฟะธัะตะน ะทะฐ ัะตะณะพะดะฝั
	var totalRecords int
	countQuery := `SELECT COUNT(*) FROM svyno_sobaka_bot.svyno_sobaka_of_the_day WHERE dt_date_only = CURRENT_DATE`
	err = db.QueryRow(countQuery).Scan(&totalRecords)
	if err != nil {
		log.Printf("โ๏ธ ะะต ัะดะฐะปะพัั ะฟะพะดััะธัะฐัั ะทะฐะฟะธัะธ: %v", err)
		totalRecords = 0
	}

	log.Printf("๐ ะ ัะฐะฑะปะธัะต svyno_sobaka_of_the_day ะฝะฐะนะดะตะฝะพ %d ะทะฐะฟะธัะตะน ะทะฐ ัะตะณะพะดะฝั", totalRecords)

	// ะัะปะธ ะฝะตั ะทะฐะฟะธัะตะน - ะทะฐะฒะตััะฐะตะผ
	if totalRecords == 0 {
		log.Println("โน๏ธ ะะตั ะทะฐะฟะธัะตะน ะดะปั ัะฐัััะปะบะธ, ะทะฐะฒะตััะฐั ัะฐะฑะพัั")
		return nil
	}

	// ะะฐะฟัะฐัะธะฒะฐะตะผ ะดะตัะฐะปัะฝัะต ะดะฐะฝะฝัะต
	rows, err := db.Query(`
        SELECT 
            chat_id,
            COALESCE(user_username, user_name, 'ะะฝะพะฝะธะผ') as display_name,
            user_name,
            user_username
        FROM svyno_sobaka_bot.svyno_sobaka_of_the_day 
        WHERE dt_date_only = CURRENT_DATE
        ORDER BY chat_id
    `)

	if err != nil {
		log.Printf("โ ะัะธะฑะบะฐ ะทะฐะฟัะพัะฐ ะดะฐะฝะฝัั: %v", err)
		return err
	}

	// ๐ด 3. ะะซะะะฎะงะะะะ ะะ - ััะฐะทั ะฟะพัะปะต ะฟะพะปััะตะฝะธั ะดะฐะฝะฝัั
	defer rows.Close()
	log.Println("โ ะะฐะฝะฝัะต ะฟะพะปััะตะฝั, ะะ ะผะพะถะฝะพ ะทะฐะบััะฒะฐัั")

	// ะะพะดะณะพัะพะฒะบะฐ ะดะฐะฝะฝัั ะดะปั ะฟะฐัะฐะปะปะตะปัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
	type ChatTask struct {
		ChatID    int64
		FinalName string
	}

	var tasks []ChatTask
	chatIDs := []int64{}

	for rows.Next() {
		var chatID int64
		var displayName, userName, userUsername sql.NullString

		if err := rows.Scan(&chatID, &displayName, &userName, &userUsername); err != nil {
			log.Printf("โ๏ธ ะัะธะฑะบะฐ ััะตะฝะธั ะดะฐะฝะฝัั ะดะปั ัะฐัะฐ: %v", err)
			continue
		}

		// ะคะพัะผะธััะตะผ ะธะผั
		var finalName string
		if userUsername.Valid && userUsername.String != "" {
			finalName = "@" + userUsername.String
		} else if userName.Valid && userName.String != "" {
			finalName = userName.String
		} else {
			finalName = "ะะฝะพะฝะธะผ"
		}

		tasks = append(tasks, ChatTask{ChatID: chatID, FinalName: finalName})
		chatIDs = append(chatIDs, chatID)

		log.Printf("๐ ะะพะฑะฐะฒะปะตะฝ ัะฐั %d: %s", chatID, finalName)
	}

	// ะัะพะฒะตััะตะผ ะพัะธะฑะบะธ rows
	if err := rows.Err(); err != nil {
		log.Printf("โ๏ธ ะัะธะฑะบะฐ ะฟัะธ ะธัะตัะฐัะธะธ rows: %v", err)
	}

	log.Printf("๐ ะัะตะณะพ ัะฐัะพะฒ ะดะปั ัะฐัััะปะบะธ: %d", len(tasks))

	// ะะะะะะะะะฌะะะฏ ะะะะะะะขะะ ั ัะตะผะฐัะพัะพะผ
	semaphore := make(chan struct{}, broadcastMaxWorkers)
	var wg sync.WaitGroup
	results := make(chan string, len(tasks))

	startTime := time.Now()
	log.Println("๐ ะะฐัะธะฝะฐั ะฟะฐัะฐะปะปะตะปัะฝัั ัะฐัััะปะบั...")

	// ะะฐะฟััะบะฐะตะผ ะฒะพัะบะตัั
	for _, task := range tasks {
		wg.Add(1)
		semaphore <- struct{}{} // ะะฐะฝะธะผะฐะตะผ ัะปะพั ะฒ ัะตะผะฐัะพัะต

		go func(chatID int64, finalName string) {
			defer func() {
				<-semaphore // ะัะฒะพะฑะพะถะดะฐะตะผ ัะปะพั
			}()

			processChat(bot, chatID, finalName, &wg, results)
		}(task.ChatID, task.FinalName)

		// ะะธะฝะธะผะฐะปัะฝะฐั ะทะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟััะบะฐะผะธ ะณะพัััะธะฝ
		time.Sleep(broadcastGoroutineDelay)
	}

	// ะะดัะผ ะทะฐะฒะตััะตะฝะธั ะฒัะตั ะณะพัััะธะฝ
	go func() {
		wg.Wait()
		close(results)
	}()

	// ะกะพะฑะธัะฐะตะผ ัะตะทัะปััะฐัั
	successCount := 0
	failCount := 0

	for result := range results {
		log.Println(result)
		if strings.HasPrefix(result, "โ") {
			successCount++
		} else {
			failCount++
		}
	}

	duration := time.Since(startTime)

	// ะกัะฐัะธััะธะบะฐ
	log.Printf("๐ ะะฐัััะปะบะฐ ะทะฐะฒะตััะตะฝะฐ ะทะฐ %v", duration)
	log.Printf("๐ ะกัะฐัะธััะธะบะฐ:")
	log.Printf("   ะัะตะณะพ ัะฐัะพะฒ: %d", len(tasks))
	log.Printf("   ะฃัะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะพ: %d", successCount)
	log.Printf("   ะะต ัะดะฐะปะพัั ะพัะฟัะฐะฒะธัั: %d", failCount)

	// ะะฐัััะธััะฒะฐะตะผ ะฟัะธะผะตัะฝะพะต ะฒัะตะผั ะดะปั 100 ัะฐัะพะฒ
	if len(tasks) > 0 {
		timePerChat := duration / time.Duration(len(tasks))
		estimated100 := timePerChat * 100 / time.Duration(broadcastMaxWorkers)
		log.Printf("โฑ๏ธ  ะัะธะผะตัะฝะพะต ะฒัะตะผั ะดะปั 100 ัะฐัะพะฒ: %v", estimated100)
	}

	return nil
}

// isAuthorized ะฟัะพะฒะตััะตั ะฐะฒัะพัะธะทะฐัะธั
func isAuthorized(r *http.Request, secretKey string) bool {
	if strings.HasPrefix(r.RemoteAddr, "127.0.0.1") ||
		strings.HasPrefix(r.RemoteAddr, "[::1]") {
		return true
	}

	if r.Header.Get("X-Broadcast-Secret") == secretKey {
		return true
	}

	userAgent := strings.ToLower(r.UserAgent())
	if strings.Contains(userAgent, "yandex") ||
		strings.Contains(userAgent, "cloud") {
		return true
	}

	return false
}
package mybot

import (
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// handleCommand - ะพะฟัะตะดะตะปัะตั ะบะพะผะฐะฝะดั ะธ ะฒัะทัะฒะฐะตั ัะพะพัะฒะตัััะฒัััะธะน ะพะฑัะฐะฑะพััะธะบ
func handleCommand(bot *tgbotapi.BotAPI, msg *tgbotapi.Message) {
    switch msg.Command() {
    case "start":
        handleStartCommand(bot, msg)
    case "help":
        handleHelpCommand(bot, msg)
    // ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะดััะณะธะต ะบะพะผะฐะฝะดั
    }
}
package mybot

import (
    "database/sql"
    "log"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
    _ "github.com/lib/pq"
)

// SaveMessageToDB - ัะพััะฐะฝัะตั ัะพะพะฑัะตะฝะธะต ะฒ ะะ
func SaveMessageToDB(db *sql.DB, botUsername string, msg *tgbotapi.Message) error {
    if db == nil {
        return nil // ะะ ะฝะต ะฝะฐัััะพะตะฝะฐ - ะฟัะพะฟััะบะฐะตะผ
    }
    
    // ะัะฟะพะปัะทัะตะผ ััะตะผั main.messages_log
    query := `
        INSERT INTO main.messages_log (
            created_at, bot_id, user_id, message_id, chat_id,
            bot_username, message_text, user_name, user_username,
            has_sticker, has_photo, has_document, chat_title
        ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
    `
    
    // ะะฟัะตะดะตะปัะตะผ ะฝะฐะปะธัะธะต ะผะตะดะธะฐ
    hasSticker := msg.Sticker != nil
    hasPhoto := msg.Photo != nil && len(msg.Photo) > 0
    hasDocument := msg.Document != nil
    
    // ะะพะปััะฐะตะผ chat_title (ะผะพะถะตั ะฑััั ะฟััััะผ ะฒ ะปะธัะฝัั ัะพะพะฑัะตะฝะธัั)
    chatTitle := ""
    if msg.Chat.Title != "" {
        chatTitle = msg.Chat.Title
    } else if msg.Chat.UserName != "" {
        // ะะปั ะปะธัะฝัั ัะพะพะฑัะตะฝะธะน ะธัะฟะพะปัะทัะตะผ username
        chatTitle = "@" + msg.Chat.UserName
    } else {
        // ะะปะธ first_name ะดะปั ะฟัะธะฒะฐัะฝัั ัะฐัะพะฒ
        chatTitle = msg.Chat.FirstName
    }
    
    _, err := db.Exec(query,
        time.Now(),                 // created_at
        0,                          // bot_id (ะฟะพะบะฐ 0)
        msg.From.ID,                // user_id
        msg.MessageID,              // message_id  
        msg.Chat.ID,                // chat_id
        botUsername,                // bot_username
        msg.Text,                   // message_text
        msg.From.FirstName,         // user_name
        msg.From.UserName,          // user_username
        hasSticker,                 // has_sticker
        hasPhoto,                   // has_photo
        hasDocument,                // has_document
        chatTitle,                  // chat_title - ะะะะะ ะะะะ!
    )
    
    if err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ัะพััะฐะฝะตะฝะธั ะฒ ะะ: %v", err)
        return err
    }
    
    log.Printf("๐พ ะกะพะพะฑัะตะฝะธะต ัะพััะฐะฝะตะฝะพ ะฒ ะะ (ัะฐั: %s)", chatTitle)
    return nil
}
package mybot

import (
    "log"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
    forwarder "github.com/vmkotov/telegram-forwarder"
)

// forwardMessage - ะฟะตัะตััะปะฐะตั ัะพะพะฑัะตะฝะธะต ะฒ ัะบะฐะทะฐะฝะฝัะน ัะฐั
func forwardMessage(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, forwardChatID int64) {
    if forwardChatID == 0 {
        return // ะะตัะตััะปะบะฐ ะพัะบะปััะตะฝะฐ
    }
    
    forwarder.JustForward(bot, msg, forwardChatID)
    log.Printf("๐ค ะกะพะพะฑัะตะฝะธะต ะฟะตัะตัะปะฐะฝะพ ะฒ ัะฐั %d", forwardChatID)
}
package mybot

import (
	"database/sql"
	"log"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// HandleMessage - ะพะฑัะฐะฑะฐััะฒะฐะตั ัะพะพะฑัะตะฝะธะต
func HandleMessage(bot *tgbotapi.BotAPI, msg *tgbotapi.Message,
	forwardChatID int64, db *sql.DB, botUsername string) {

	log.Printf("๐ฌ ะกะพะพะฑัะตะฝะธะต ะพั @%s: %s", msg.From.UserName, msg.Text)

	// ===============================================
	// 1. ะกะพััะฐะฝัะตะผ ะฒ ะะ (ะตัะปะธ ะฟะพะดะบะปััะตะฝะฐ)
	// ===============================================
	if db != nil {
		SaveMessageToDB(db, botUsername, msg)
	}

	// ===============================================
	// 2. ะะตัะตััะปะฐะตะผ ะพัะธะณะธะฝะฐะปัะฝะพะต ัะพะพะฑัะตะฝะธะต
	// ===============================================
	forwardMessage(bot, msg, forwardChatID)

	// ===============================================
	// 3. ะัะฟัะฐะฒะปัะตะผ ะปะพะณ ะฒ ะพัะดะตะปัะฝัะน ัะฐั
	// ===============================================
	SendMessageLog(bot, msg, botUsername, bot.Self.ID)

	// ===============================================
	// 4. ะะพะผะฐะฝะดั
	// ===============================================
	if msg.IsCommand() {
		handleCommand(bot, msg)
	}

	// ID ัะฐัะฐ ะดะปั ะปะพะณะพะฒ (ะธัะฟะพะปัะทัะตััั ะดะปั ะฒัะตั ััะธะณะณะตัะพะฒ)
	logChatID := int64(-1003655803421)

	// ===============================================
	// 5. ะะะะะะะะ ะะกะะฅ ะขะะะะะะะะ (ะะะชะะะะะะะะะฏ ะะะะกะะฏ)
	// ===============================================
	if CheckAllTriggers(bot, msg, logChatID) {
		return // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป, ะดะฐะปััะต ะฝะต ะฟัะพะฒะตััะตะผ
	}
}
package mybot

import (
    "fmt"
    "log"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// SendMessageLog ะพัะฟัะฐะฒะปัะตั ัะพัะผะฐัะธัะพะฒะฐะฝะฝัะน ะปะพะณ ัะพะพะฑัะตะฝะธั ะฒ ัะบะฐะทะฐะฝะฝัะน ัะฐั
func SendMessageLog(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, botUsername string, botID int64) {
    // ID ัะฐัะฐ ะดะปั ะปะพะณะพะฒ (ัะธะบัะธัะพะฒะฐะฝะฝัะน)
    logChatID := int64(-1003516004835)
    
    // ะคะพัะผะธััะตะผ ะปะพะณ
    logText := formatMessageLog(msg, botUsername, botID)
    
    // ะกะพะทะดะฐะตะผ ัะพะพะฑัะตะฝะธะต ะดะปั ะพัะฟัะฐะฒะบะธ
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    logMsg.DisableWebPagePreview = true
    
    // ะัะฟัะฐะฒะปัะตะผ ะปะพะณ
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ: %v", err)
    } else {
        log.Printf("โ ะะพะณ ะพัะฟัะฐะฒะปะตะฝ ะฒ ัะฐั %d", logChatID)
    }
}

// formatMessageLog ัะพัะผะธััะตั ัะพัะผะฐัะธัะพะฒะฐะฝะฝัะน ัะตะบัั ะปะพะณะฐ
func formatMessageLog(msg *tgbotapi.Message, botUsername string, botID int64) string {
    var builder strings.Builder
    
    // ะะฐะณะพะปะพะฒะพะบ ั ะฒัะตะผะตะฝะตะผ
    messageTime := time.Unix(int64(msg.Date), 0)
    builder.WriteString(fmt.Sprintf("๐ค *ะะพะณ ัะพะพะฑัะตะฝะธั* `%s`\n\n", 
        messageTime.Format("15:04:05")))
    
    // ะะฝัะพัะผะฐัะธั ะพ ัะฐัะต
    chatTitle := getValueOrDefault(msg.Chat.Title, "ะฝะต ัะบะฐะทะฐะฝะพ")
    builder.WriteString(fmt.Sprintf("๐ฌ *ะงะฐั:* %s\n", escapeMarkdown(chatTitle)))
    
    // ะขะธะฟ ัะฐัะฐ (ะฟะตัะตะฒะพะด ะฝะฐ ััััะบะธะน)
    chatType := translateChatType(msg.Chat.Type)
    builder.WriteString(fmt.Sprintf("๐ *ะขะธะฟ:* %s\n", chatType))
    builder.WriteString(fmt.Sprintf("๐ *ID:* `%d`\n\n", msg.Chat.ID))
    
    // ะะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต
    if msg.From != nil {
        // ะะพะปะฝะพะต ะธะผั
        fullName := strings.TrimSpace(fmt.Sprintf("%s %s", 
            getValueOrDefault(msg.From.FirstName, ""),
            getValueOrDefault(msg.From.LastName, "")))
        if fullName == "" {
            fullName = "ะฝะต ัะบะฐะทะฐะฝะพ"
        }
        builder.WriteString(fmt.Sprintf("๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n", escapeMarkdown(fullName)))
        
        // ะขะพะปัะบะพ ะธะผั
        firstName := getValueOrDefault(msg.From.FirstName, "ะฝะต ัะบะฐะทะฐะฝะพ")
        builder.WriteString(fmt.Sprintf("๐ *ะะผั:* %s\n", escapeMarkdown(firstName)))
        
        // Username
        username := getValueOrDefault(msg.From.UserName, "ะฝะต ัะบะฐะทะฐะฝะพ")
        if username != "ะฝะต ัะบะฐะทะฐะฝะพ" {
            builder.WriteString(fmt.Sprintf("๐ค *@%s*\n", escapeMarkdown(username)))
        }
        
        builder.WriteString(fmt.Sprintf("๐ *ID:* `%d`\n\n", msg.From.ID))
    }
    
    // ะขะตะบัั ัะพะพะฑัะตะฝะธั ะธะปะธ ะฟะพะดะฟะธัั
    messageText := getMessageText(msg)
    builder.WriteString(fmt.Sprintf("๐ *ะกะพะพะฑัะตะฝะธะต:*\n```\n%s\n```\n\n", messageText))
    
    // ะะฝัะพัะผะฐัะธั ะพ ะฑะพัะต
    builder.WriteString(fmt.Sprintf("๐ค *ะะฝัะพัะผะฐัะธั ะพ ะฑะพัะต:*\n"))
    builder.WriteString(fmt.Sprintf("ะะพั: @%s\n", botUsername))
    builder.WriteString(fmt.Sprintf("Bot ID: `%d`", botID))
    
    return builder.String()
}

// getMessageText ะฒะพะทะฒัะฐัะฐะตั ัะตะบัั ัะพะพะฑัะตะฝะธั ะธะปะธ ะฟะพะดะฟะธัั ะบ ะผะตะดะธะฐ
func getMessageText(msg *tgbotapi.Message) string {
    if msg.Text != "" {
        return msg.Text
    }
    if msg.Caption != "" {
        return msg.Caption
    }
    if msg.Photo != nil {
        return "[ะคะพัะพ]"
    }
    if msg.Video != nil {
        return "[ะะธะดะตะพ]"
    }
    if msg.Document != nil {
        return "[ะะพะบัะผะตะฝั]"
    }
    if msg.Audio != nil {
        return "[ะัะดะธะพ]"
    }
    if msg.Voice != nil {
        return "[ะะพะปะพัะพะฒะพะต ัะพะพะฑัะตะฝะธะต]"
    }
    if msg.Sticker != nil {
        return "[ะกัะธะบะตั]"
    }
    if msg.Location != nil {
        return "[ะะตััะพะฟะพะปะพะถะตะฝะธะต]"
    }
    if msg.Contact != nil {
        return "[ะะพะฝัะฐะบั]"
    }
    
    return "[ะกะพะพะฑัะตะฝะธะต ะฑะตะท ัะตะบััะฐ]"
}

// translateChatType ะฟะตัะตะฒะพะดะธั ัะธะฟ ัะฐัะฐ ะฝะฐ ััััะบะธะน
func translateChatType(chatType string) string {
    switch chatType {
    case "supergroup":
        return "ััะฟะตัะณััะฟะฟะฐ"
    case "group":
        return "ะณััะฟะฟะฐ"
    case "private":
        return "ะปะธัะฝัะน ัะฐั"
    case "channel":
        return "ะบะฐะฝะฐะป"
    default:
        return chatType
    }
}

// getValueOrDefault ะฒะพะทะฒัะฐัะฐะตั ะทะฝะฐัะตะฝะธะต ะธะปะธ ะทะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั
func getValueOrDefault(value, defaultValue string) string {
    if value == "" {
        return defaultValue
    }
    return value
}
package mybot

import (
	"fmt"
	"log"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// handleStartCommand - ะพะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะดั /start
func handleStartCommand(bot *tgbotapi.BotAPI, msg *tgbotapi.Message) {
	name := msg.From.FirstName
	if msg.From.UserName != "" {
		name = "@" + msg.From.UserName
	}

	text := fmt.Sprintf(
		"ะฟัะธะฒะตั, ั ะกะฒะธะฝะพัะพะฑะฐะบะฐ. ัั, %s, ะบััะฐัะธ ัะพะถะต!\n"+
			"ะฑะพั ะฟะพะบะฐ ัะฐะฑะพัะฐะตั ะฒ ัะตััะพะฒะพะผ-ัะตะถะธะผะต\n"+
			"ะพะฑะพ ะฒัะตั ะบะพััะบะฐั ะฟะธัะฐัั ััะดะฐ ะฝะฐะฟััะผัั",
		name)

	sendMessage(bot, msg.Chat.ID, text, "ััะฐัั")
}

// handleHelpCommand - ะพะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะดั /help
func handleHelpCommand(bot *tgbotapi.BotAPI, msg *tgbotapi.Message) {
	text := "๐ ะะพะผะฐะฝะดั:\n/start - ะะฐัะฐัั\n/help - ะะพะผะพัั"
	sendMessage(bot, msg.Chat.ID, text, "ัะฟัะฐะฒะบะฐ")
}

// sendMessage - ะพะฑัะฐั ััะฝะบัะธั ะพัะฟัะฐะฒะบะธ ัะพะพะฑัะตะฝะธะน
func sendMessage(bot *tgbotapi.BotAPI, chatID int64, text, context string) {
	reply := tgbotapi.NewMessage(chatID, text)

	if _, err := bot.Send(reply); err != nil {
		log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ %s: %v", context, err)
	} else {
		log.Printf("โ ะัะฟัะฐะฒะปะตะฝ %s", context)
	}
}
package mybot

import (
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// CheckAllTriggers ะฟัะพะฒะตััะตั ะะกะ ััะธะณะณะตัั ะฒ ะฟะพััะดะบะต ะฟัะธะพัะธัะตัะฐ
// ะะพะทะฒัะฐัะฐะตั true ะฟัะธ ะฟะตัะฒะพะผ ััะฐะฑะฐััะฒะฐะฝะธะธ ะปัะฑะพะณะพ ััะธะณะณะตัะฐ
func CheckAllTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    // ะัะพะฒะตััะตะผ ะ ะขะะงะะะ ะะะะฏะะะ ะะ ะะะะะะะะะฌะะะะ handler.go
    
    // ===============================================
    // 1. ะขะะะะะะ: "ะตะฑะฐัั ััั" ะธะปะธ "ะตะฑะฐัั ัะฟะฐััะฐะบ" (ะะะะะซะ ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckEbatTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป, ะดะฐะปััะต ะฝะต ะฟัะพะฒะตััะตะผ
    }
    
    // ===============================================
    // 2. ะัะพะฒะตัะบะฐ ััะธะณะณะตัะฝัั ัะปะพะฒ "ะกะฒะธะฝะพัะพะฑะฐะบะฐ" (ะฒัะพัะพะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckSvinoSobakaTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป, ะดะฐะปััะต ะฝะต ะฟัะพะฒะตััะตะผ
    }
    
    // ===============================================
    // 3. ะขะะะะะะ: "ัะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ" (ััะตัะธะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckHuiNadenemTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป, ะดะฐะปััะต ะฝะต ะฟัะพะฒะตััะตะผ
    }
    
    // ===============================================
    // 4. ะัะพะฒะตัะบะฐ ััะธะณะณะตัะฝัั ัะปะพะฒ "ะกะฟะฐััะฐะบ" (ัะตัะฒะตัััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckSpartakTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป, ะดะฐะปััะต ะฝะต ะฟัะพะฒะตััะตะผ
    }
    
    // ===============================================
    // 5. ะขะะะะะะ: ะะปะบะพะณะพะปัะฝัะต ััะฐะทั (ะฟัััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckAlcoholTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 6. ะขะะะะะะ: ะะฐะฟะตั/ะฟะธะทะดะตั (ัะตััะพะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckKapetsTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 7. ะขะะะะะะ: ัะฒะธะฝะพัะพะฑะฐะบะฐ-v2 (ัะตะดัะผะพะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckSvinoSobakaV2Triggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 8. ะขะะะะะะ: ะดะพะปะฑะฐัะฑ ัะตััะธัะธะบะฐั (ะฒะพััะผะพะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckDolbaebCertificateTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 9. ะขะะะะะะ: ะผัะทัะบะฐ โ ะะพัะพะปั ะธ ะจัั (ะดะตะฒัััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckMusicKorolShutTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 10. ะขะะะะะะ: ะะพััะธั โ ะกะปะฐะฒะฐ ะะพััะธะธ! (ะดะตััััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckRussiaSlavaTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 11. ะขะะะะะะ: ะบะธัะฐะตั โ 2 ะฒะฐัะธะฐะฝัะฐ (ะพะดะธะฝะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckKitajecTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 12. ะขะะะะะะ: ะธะดะธ ะฝะฐ ััะน (ะดะฒะตะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckIdiNaHuiTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 13. ะขะะะะะะ: ะฑะฐั/ะบะฐะฑะฐะบ (ััะธะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckBarSwinobarmenTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 14. ะขะะะะะะ: ะะธัะฐะปะธะบ (ัะตัััะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckVitalikViebatTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 15. ะขะะะะะะ: ะฒัะตัะฐ/ะฟะพะผะฝะธัะต (ะฟััะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckVcheraNajralsyaTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 16. ะขะะะะะะ: ะผัะฐะทั/ะดะตะฑะธะป (ัะตััะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckMrazotstvoTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ===============================================
    // 17. ะขะะะะะะ: ะฒัะตะทะด (ัะตะผะฝะฐะดัะฐััะน ะฟัะธะพัะธัะตั)
    // ===============================================
    if CheckVyezdPrazdnikTriggers(bot, msg, logChatID) {
        return true // ะขัะธะณะณะตั ััะฐะฑะพัะฐะป
    }
    
    // ะะธ ะพะดะธะฝ ััะธะณะณะตั ะฝะต ััะฐะฑะพัะฐะป
    return false
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ััะธะณะณะตัะฝัั ัะปะพะฒ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต ะดะปั ะฟัะพะฒะตัะบะธ)
var alcoholNouns = []string{
    "ะฟัะฐะทะดะฝะธะบ", "ะฟัะฐะทะดะฝะธะบะธ", "ะฟัะฐะทะดะฝะธะบะฐั", "ะฟัะฐะทะดะฝะธะบะพะผ",
    "ะฟะธะฒะพ", "ะฟะธะฒะบะพ", "ะฟะธะฒะฐั", "ะฟะธะฒะฐัะธะบ", "ะฟะธะฒะฐัะธะบะฐ", "ะฟะธะฒะฐัะธะบั",
    "ะฟะธะฒะฐ", "ะฟะธะฒะบะพ", "ะฟะธะฒั", "ะฟะธะฒะบั",
    "ะฒะธัะบะธ", "ะฒะธัะบะฐัั", "ะฒะธัะบะฐัั", "ะฒะธัะบะฐััะผ",
    "ะฝะฐััะพะนะบะฐ", "ะฝะฐััะพะนะบะธ", "ะฝะฐััะพะนะบั", "ะฝะฐััะพะนะบะต",
}

var alcoholAdjectives = []string{
    "ััะผะตะฝะฝะพะต", "ััะผะตะฝะฝะพะณะพ", 
    "ัะฒะตัะปะพะต", "ัะฒะตัะปะพะณะพ", 
    "ััะผะฝะพะต", "ััะผะฝะพะณะพ", 
    "ะธะณัะธััะพะต",
}

var alcoholVerbs = []string{
    "ัะฑะฝััั", "ะนะพะฑะฝะตะผ", 
    "ะฒัะฟัะตะผ", "ะฒัะฟะธัั", "ะฒัะฟะธะปะธ", 
    "ะฝะฐััััะธะผัั", "ะฑะฐัะฝะตะผ", "ะฝะฐััััะธัััั",
}

var alcoholPhrases = []string{
    "ะดะตะฝั ัะพะถะดะตะฝะธั", 
    "ั ะดะฝัะผ ัะพะถะดะตะฝะธั",
}

// ะะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ
var alcoholResponses = []string{
    "ะะฐะฒะฐะนัะต ะฒัะฟัะตะผ!",
    "ะะฐะฒะฐะน ะนะพะฑะฝะตะผ!",
    "ะะพะณะดะฐ ะฒ ะฑะฐั ะฟะพะนะดัะผ?",
}

// CheckAlcoholTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะฐะปะบะพะณะพะปัะฝัะต ััะธะณะณะตัั
// ะัะธะพัะธัะตั: 5-ะน (ะฟะพัะปะตะดะฝะธะน)
func CheckAlcoholTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั (ะธัะฟะพะปัะทัะตะผ ัะถะต ัะพะทะดะฐะฝะฝัั ััะฝะบัะธั normalizeText)
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะฒัะต ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะธ ััะฐะทั
    foundWords := []string{}
    
    // ะัะพะฒะตััะตะผ ัััะตััะฒะธัะตะปัะฝัะต
    for _, word := range alcoholNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ะฟัะธะปะฐะณะฐัะตะปัะฝัะต
    for _, word := range alcoholAdjectives {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ะณะปะฐะณะพะปั
    for _, word := range alcoholVerbs {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ัะปะพะฒะพัะพัะตัะฐะฝะธั
    for _, phrase := range alcoholPhrases {
        if strings.Contains(text, phrase) {
            foundWords = append(foundWords, phrase)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐บ ะขัะธะณะณะตั AlcoholTriggers: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั
    rand.Seed(time.Now().UnixNano())
    responseIndex := rand.Intn(len(alcoholResponses))
    response := alcoholResponses[responseIndex]
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะฐะปะบะพะณะพะปัะฝะพะณะพ ััะธะณะณะตัะฐ: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะฐะปะบะพะณะพะปัะฝัะน ะพัะฒะตั: %s", response)
    
    // ะะพะณะธััะตะผ
    sendAlcoholTriggerLogToChat(bot, msg, foundWords, responseIndex, logChatID)
    
    return true
}

// sendAlcoholTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ะฐะปะบะพะณะพะปัะฝะพะณะพ ััะธะณะณะตัะฐ
func sendAlcoholTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                foundWords []string, responseIndex int, logChatID int64) {
    
    // ะะฑัะตะทะฐะตะผ ัะฟะธัะพะบ ัะปะพะฒ ะตัะปะธ ะธั ะผะฝะพะณะพ
    wordsForLog := foundWords
    if len(foundWords) > 5 {
        wordsForLog = foundWords[:5]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั AlcoholTriggers*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป*\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s\n" +
        "๐ข *ะะฐัะธะฐะฝั ะพัะฒะตัะฐ:* %d/%d",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        wordsForLog,
        len(foundWords),
        alcoholResponses[responseIndex],
        responseIndex+1,
        len(alcoholResponses),
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ AlcoholTriggers: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ััะธะณะณะตัะฝัั ัะปะพะฒ ะฑะฐั/ะบะฐะฑะฐะบ
var barNouns = []string{
    "ะฑะฐั", "ะฑะฐัั", "ะฑะฐัะฐะผ", "ะฑะฐัะฐั", "ะฑะฐัะพะฒ",
    "ะบะฐะฑะฐะบ", "ะบะฐะฑะฐะบะธ", "ะบะฐะฑะฐะบะต", "ะบะฐะฑะฐะบะพะฒ",
}

var barPhrases = []string{
    "ะฒ ะฑะฐัะต", "ะฒ ะบะฐะฑะฐะบะฐั",
}

// CheckBarSwinobarmenTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะฐ ะฑะฐั/ะบะฐะฑะฐะบ
// ะัะธะพัะธัะตั: 13-ะน
// ะะตัะพััะฝะพััั: 50% (ะบะฐะถะดะพะต 2-ะต ะฟัะธะผะตัะฝะพ)
func CheckBarSwinobarmenTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    text := normalizeText(msg.Text)
    foundWords := []string{}
    
    for _, word := range barNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    for _, phrase := range barPhrases {
        if strings.Contains(text, phrase) {
            foundWords = append(foundWords, phrase)
        }
    }
    
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ป ะขัะธะณะณะตั BarSwinobarmen: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.5 {
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ BarSwinobarmen (ะฒะตัะพััะฝะพััั 50%%)")
        sendBarSwinobarmenTriggerLogToChat(bot, msg, foundWords, false, logChatID)
        return false
    }
    
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะ ัะฒะธะฝะพะฑะฐัะผะตะฝ ัะฐะผ?")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ BarSwinobarmen: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั BarSwinobarmen")
    sendBarSwinobarmenTriggerLogToChat(bot, msg, foundWords, true, logChatID)
    return true
}

func sendBarSwinobarmenTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                       foundWords []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 50%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 50%%)"
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั BarSwinobarmen*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        "ะ ัะฒะธะฝะพะฑะฐัะผะตะฝ ัะฐะผ?",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ BarSwinobarmen: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ััะธะณะณะตัะฝัั ะณะปะฐะณะพะปะพะฒ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var dolbaebVerbs = []string{
    "ัะฟะฐะป",
    "ัะฑะฝัะปัั", 
    "ะฟะธะทะดะฐะฝัะปัั",
    "ัะดะฐัะธะปัั",
    "ะฒัะตะฑะฐะปัั",
    "ะฟัะพะผะฐัะฝัะปัั",
}

// CheckDolbaebCertificateTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะณะปะฐะณะพะปั ะฟะฐะดะตะฝะธั/ัะดะฐัะฐ
// ะัะธะพัะธัะตั: 8-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
// ะะตัะพััะฝะพััั: 50% (ะบะฐะถะดะพะต 2-ะต ะฟัะธะผะตัะฝะพ)
func CheckDolbaebCertificateTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ััะธะณะณะตัะฝัะต ะณะปะฐะณะพะปั
    foundVerbs := []string{}
    for _, verb := range dolbaebVerbs {
        if strings.Contains(text, verb) {
            foundVerbs = append(foundVerbs, verb)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundVerbs) == 0 {
        return false
    }
    
    log.Printf("๐ค ะขัะธะณะณะตั DolbaebCertificate: ะฝะฐะนะดะตะฝะพ %d ะณะปะฐะณะพะปะพะฒ ะพั @%s", 
               len(foundVerbs), msg.From.UserName)
    
    // ะัะพะฒะตััะตะผ ะฒะตัะพััะฝะพััั (50%)
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.5 { // 50% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ DolbaebCertificate (ะฒะตัะพััะฝะพััั 50%%)")
        sendDolbaebCertificateTriggerLogToChat(bot, msg, foundVerbs, false, logChatID)
        return false
    }
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะกะตััะธัะธะบะฐั ะดะพะปะฑะฐัะฑะฐ ะตะผั!")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ DolbaebCertificate: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั DolbaebCertificate")
    
    // ะะพะณะธััะตะผ
    sendDolbaebCertificateTriggerLogToChat(bot, msg, foundVerbs, true, logChatID)
    
    return true
}

// sendDolbaebCertificateTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendDolbaebCertificateTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                           foundVerbs []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 50%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 50%%)"
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั DolbaebCertificate*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ะณะปะฐะณะพะปั:* %v\n" +
        "๐ *ะัะตะณะพ ะณะปะฐะณะพะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundVerbs,
        len(foundVerbs),
        "ะกะตััะธัะธะบะฐั ะดะพะปะฑะฐัะฑะฐ ะตะผั!",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ DolbaebCertificate: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "strings"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// CheckEbatTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะฝะฐะปะธัะธะต ััะฐะท "ะตะฑะฐัั ััั" ะธะปะธ "ะตะฑะฐัั ัะฟะฐััะฐะบ"
// ะัะธะพัะธัะตั: 1-ะน (ัะฐะผัะน ะฒััะพะบะธะน)
// ะัะฒะตั: "+"
func CheckEbatTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั: ะฝะธะถะฝะธะน ัะตะณะธััั + ัะดะฐะปัะตะผ ะทะฝะฐะบะธ ะฟัะตะฟะธะฝะฐะฝะธั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะพะฑะต ััะฐะทั
    hasEbatUfu := strings.Contains(text, "ะตะฑะฐัั ััั")
    hasEbatSpartak := strings.Contains(text, "ะตะฑะฐัั ัะฟะฐััะฐะบ")
    
    if !hasEbatUfu && !hasEbatSpartak {
        return false
    }
    
    // ะะฟัะตะดะตะปัะตะผ ะบะฐะบัั ััะฐะทั ะฝะฐัะปะธ (ะดะปั ะปะพะณะพะฒ)
    foundPhrase := ""
    if hasEbatUfu && hasEbatSpartak {
        foundPhrase = "ะตะฑะฐัั ััั ะธ ะตะฑะฐัั ัะฟะฐััะฐะบ"
    } else if hasEbatUfu {
        foundPhrase = "ะตะฑะฐัั ััั"
    } else {
        foundPhrase = "ะตะฑะฐัั ัะฟะฐััะฐะบ"
    }
    
    log.Printf("๐ฏ ะขัะธะณะณะตั EbatTriggers: ะฝะฐะนะดะตะฝะพ '%s' ะพั @%s", 
               foundPhrase, msg.From.UserName)
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั "+"
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "+")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ '+': %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั '+'")
    
    // ะะพะณะธััะตะผ (ะธัะฟะพะปัะทัะตะผ ัััะตััะฒััััั ััะฝะบัะธั ะปะพะณะธัะพะฒะฐะฝะธั)
    sendEbatTriggerLogToChat(bot, msg, foundPhrase, logChatID)
    
    return true
}

// normalizeText ะฟัะธะฒะพะดะธั ัะตะบัั ะบ ะฝะธะถะฝะตะผั ัะตะณะธัััั ะธ ัะดะฐะปัะตั ะทะฝะฐะบะธ ะฟัะตะฟะธะฝะฐะฝะธั
func normalizeText(text string) string {
    // 1. ะ ะฝะธะถะฝะตะผั ัะตะณะธัััั
    text = strings.ToLower(text)
    
    // 2. ะฃะดะฐะปัะตะผ ะทะฝะฐะบะธ ะฟัะตะฟะธะฝะฐะฝะธั: ,.!?- (ะธ ะผะฝะพะถะตััะฒะตะฝะฝัะต ะฟัะพะฑะตะปั)
    replacer := strings.NewReplacer(
        ",", " ",
        ".", " ",
        "!", " ",
        "?", " ",
        "-", " ",
        "  ", " ", // ะดะฒะพะนะฝัะต ะฟัะพะฑะตะปั -> ะพะดะธะฝะฐัะฝัะต
    )
    
    text = replacer.Replace(text)
    
    // 3. ะฃะฑะธัะฐะตะผ ะปะธัะฝะธะต ะฟัะพะฑะตะปั
    text = strings.TrimSpace(text)
    
    return text
}

// sendEbatTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendEbatTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                             foundPhrase string, logChatID int64) {
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั EbatTriggers*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป*\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝะฐั ััะฐะทะฐ:* `%s`\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundPhrase,
        "+",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ EbatTriggers: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "strings"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// CheckHuiNadenemTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะฝะฐะปะธัะธะต ััะฐะทั "ัะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ"
// (ะฟะพะธัะบ ะบะฐะบ ัะฐััะธ ัััะพะบะธ, ะฑะตะท ััััะฐ ัะตะณะธัััะฐ) ะธ ะพัะฒะตัะฐะตั "ะะ ะฅะฃะ ะะะะะะะ"
func CheckHuiNadenemTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    textLower := strings.ToLower(msg.Text)
    triggerPhrase := "ัะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ"
    
    if !strings.Contains(textLower, triggerPhrase) {
        return false
    }
    
    log.Printf("๐ ะะฐะนะดะตะฝ ััะธะณะณะตั 'ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ' ะฒ ัะพะพะฑัะตะฝะธะธ ะพั @%s", 
               msg.From.UserName)
    
    response := "ะะ ะฅะฃะ ะะะะะะะ"
    
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ัะตะฟะปะฐั 'ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ': %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั ะฝะฐ ััะธะณะณะตั 'ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ': %s", response)
    
    sendHuiNadenemTriggerLogToChat(bot, msg, logChatID)
    
    return true
}

func sendHuiNadenemTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) {
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั: ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป*\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝะฐั ััะฐะทะฐ:* `%s`\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        "ัะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ",
        "ะะ ะฅะฃะ ะะะะะะะ",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ ััะธะณะณะตัะฐ 'ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ': %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ััะธะณะณะตัะฝัั ััะฐะท (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var idiNaHuiPhrases = []string{
    "ะธะดะธ ะฝะฐ ััะน", "ะธะดะธัะต ะฝะฐ ััะน", "ะธะดัั ะฝะฐ ััะน", "ะธะดะตั ะฝะฐ ััะน", "ะธะดัั ะฝะฐ ััะน",
    "ะฝะฐ ััะน ะธะดะตั", "ะฝะฐ ััะน ะธะดัั", "ะฝะฐ ััะน", "ะฝะฐััะน",
    "ะฟะพัะปะฐ ะฝะฐ ััะน", "ะฟะพัะปะฐ ะพะฝะฐ ะฝะฐ ััะน", "ะธะดะธัะต ะฒัะต ะฝะฐ ััะน",
    "ะฟะพัะปะฐ ะฒ ะฟะธะทะดั", "ะฟะพัะตะป ะฒ ะฟะธะทะดั", "ะฟะพััะป ะฒ ะฟะธะทะดั",
    "ะฟะพัะปะฐ ะพะฝะฐ ะฒ ะฟะธะทะดั", "ะฟะพัะปะธ ะฒ ะฟะธะทะดั", "ะฟะพัะปะธ ะพะฝะธ ะฒ ะฟะธะทะดั",
    "ะฟะพัะปะธ ะพะฝะธ ะฒัะต ะฒ ะฟะธะทะดั", "ะฒ ะฟะธะทะดั",
    "ะฟะพัะปะฐะป ะฝะฐ ััะน", "ะฟะพัะปะตั ะฝะฐ ััะน", "ะฟะพัะปัั ะฝะฐ ััะน",
    "ะฟะพัะปะฐะฝ ะฝะฐ ััะน", "ะฟะพัะปะฐะฝั ะฝะฐ ััะน",
}

// CheckIdiNaHuiTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ััะฐะทั "ะธะดะธ ะฝะฐ ััะน"
// ะัะธะพัะธัะตั: 12-ะน
// ะะตัะพััะฝะพััั: 33% (ะบะฐะถะดะพะต 3-ะต ะฟัะธะผะตัะฝะพ)
func CheckIdiNaHuiTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ััะธะณะณะตัะฝัะต ััะฐะทั
    foundPhrases := []string{}
    for _, phrase := range idiNaHuiPhrases {
        if strings.Contains(text, phrase) {
            foundPhrases = append(foundPhrases, phrase)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundPhrases) == 0 {
        return false
    }
    
    log.Printf("๐ ะขัะธะณะณะตั IdiNaHui: ะฝะฐะนะดะตะฝะพ %d ััะฐะท ะพั @%s", 
               len(foundPhrases), msg.From.UserName)
    
    // ะัะพะฒะตััะตะผ ะฒะตัะพััะฝะพััั (33%)
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.33 { // 67% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ IdiNaHui (ะฒะตัะพััะฝะพััั 33%%)")
        sendIdiNaHuiTriggerLogToChat(bot, msg, foundPhrases, false, logChatID)
        return false
    }
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะะดะธ-ะบะฐ ะปัััะต ัั ะฝะฐ ััะน!")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ IdiNaHui: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั IdiNaHui")
    
    // ะะพะณะธััะตะผ
    sendIdiNaHuiTriggerLogToChat(bot, msg, foundPhrases, true, logChatID)
    
    return true
}

// sendIdiNaHuiTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendIdiNaHuiTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                 foundPhrases []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 33%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 33%%)"
    }
    
    // ะะฑัะตะทะฐะตะผ ัะฟะธัะพะบ ะตัะปะธ ะธั ะผะฝะพะณะพ
    phrasesForLog := foundPhrases
    if len(foundPhrases) > 3 {
        phrasesForLog = foundPhrases[:3]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั IdiNaHui*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ััะฐะทั:* %v\n" +
        "๐ *ะัะตะณะพ ััะฐะท:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        phrasesForLog,
        len(foundPhrases),
        "ะะดะธ-ะบะฐ ะปัััะต ัั ะฝะฐ ััะน!",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ IdiNaHui: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "strings"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ััะธะณะณะตัะฝัั ัะปะพะฒ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต ะดะปั ะฟัะพะฒะตัะบะธ)
var kapetsWords = []string{
    "ะบะฐะฟะตั",
    "ะฟะธะทะดะตั", 
    "ะฟะทะดั",
}

// CheckKapetsTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะฐ ะบะฐะฟะตั/ะฟะธะทะดะตั/ะฟะทะดั
// ะัะธะพัะธัะตั: 6-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
func CheckKapetsTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ
    foundWords := []string{}
    for _, word := range kapetsWords {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ฅ ะขัะธะณะณะตั KapetsTriggers: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะขัะฐะบัะพั ะพะฟััั ะฟัะพะตะฑะฐะป?")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ KapetsTriggers: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั: ะขัะฐะบัะพั ะพะฟััั ะฟัะพะตะฑะฐะป?")
    
    // ะะพะณะธััะตะผ
    sendKapetsTriggerLogToChat(bot, msg, foundWords, logChatID)
    
    return true
}

// sendKapetsTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendKapetsTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                               foundWords []string, logChatID int64) {
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั KapetsTriggers*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป*\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        "ะขัะฐะบัะพั ะพะฟััั ะฟัะพะตะฑะฐะป?",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ KapetsTriggers: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ััะธะณะณะตัะฝัั ัะปะพะฒ ะบะธัะฐะตั (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var kitajecNouns = []string{
    "ะบะธัะฐะตั", "ะบะธัะฐะนัั", "ะบะธัะฐะนัะฐะผ",
}

var kitajecAdjectives = []string{
    "ะบะธัะฐะนัะบะธะน", "ะบะธัะฐะนัะบะธะต", "ะบะธัะฐะนัะบะฐั",
}

// ะะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ
var kitajecResponses = []string{
    "ะะฐะบั ะบะธัะฐะตั ะพะฟััั ะฟัะพะฟะฐะป?",
    "ะะธัะฐะตั, ัั ะณะดะต?",
}

// CheckKitajecTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะฐ ะบะธัะฐะตั/ะบะธัะฐะนัะบะธะน
// ะัะธะพัะธัะตั: 11-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
// ะะตัะพััะฝะพััั: 100% (ะฒัะตะณะดะฐ)
// ะัะฒะตั: ัะปััะฐะนะฝัะน ะธะท 2 ะฒะฐัะธะฐะฝัะพะฒ (50/50)
func CheckKitajecTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะฒัะต ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ
    foundWords := []string{}
    
    // ะัะพะฒะตััะตะผ ัััะตััะฒะธัะตะปัะฝัะต
    for _, word := range kitajecNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ะฟัะธะปะฐะณะฐัะตะปัะฝัะต
    for _, word := range kitajecAdjectives {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐จ๐ณ ะขัะธะณะณะตั Kitajec: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั (50/50)
    rand.Seed(time.Now().UnixNano())
    responseIndex := rand.Intn(len(kitajecResponses))
    response := kitajecResponses[responseIndex]
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั (ะฒัะตะณะดะฐ)
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ Kitajec: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั Kitajec: %s", response)
    
    // ะะพะณะธััะตะผ
    sendKitajecTriggerLogToChat(bot, msg, foundWords, responseIndex, logChatID)
    
    return true
}

// sendKitajecTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendKitajecTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                foundWords []string, responseIndex int, logChatID int64) {
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั Kitajec*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒัะตะณะดะฐ 100%%)\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s\n" +
        "๐ข *ะะฐัะธะฐะฝั ะพัะฒะตัะฐ:* %d/%d",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        kitajecResponses[responseIndex],
        responseIndex+1,
        len(kitajecResponses),
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ Kitajec: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ัะปะพะฒ ะผัะฐะทั/ะดะตะฑะธะป
var mrazNouns = []string{
    "ะผัะฐะทั", "ะผัะฐะทะธ", "ะผัะฐะทะตะน", "ะผัะฐะทัะผะธ", "ะผัะฐะทะพัะฐ", "ะผัะฐะทะพัั", 
    "ะผัะฐะทะพัะฐะผะธ", "ะผัะฐะทะพัััะฒะพ", "ัะฒะฐัั", "ัะฒะฐัะธ",
    "ัะตะฑะพะบ", "ััะฑะพะบ", "ัะตะฑะบะธ", "ััะฑะบะธ", "ัะตะฑะฐะฝั", "ัะตะฑะฐะฝ",
    "ะดะตะฑะธะป", "ะดะตะฑะธะปั", "ะดะตะฑะธะปะฐะผ", "ะดะตะฑะธะปะพะฒ",
    "ะธะดะธะพั", "ะธะดะธะพัั", "ะธะดะธะพัะฐะผ", "ะธะดะธะพัะพะฒ",
    "ะตะฑะปะฐะฝ", "ัะฑะพะฑะพ", "ะตะฑะพะฑะพ", "ะตะฑะฐะฝัะบะพ",
}

var mrazAdjectives = []string{
    "ััะฟะพะน", "ััะฟะฐั", "ััะฟัะต",
    "ะบะพะฝัะตะฝัะน", "ะบะพะฝัะตะฝะฐั", "ะบะพะฝัะตะฝัะต",
    "ััะฟะพััะปัะน", "ััะฟะพััะปะฐั", "ััะฟะพััะปัะต",
}

// ะะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ
var mrazResponses = []string{
    "ะัะฐะทะพัััะฒะพ! ะัั ะบะฐะบ ะผั ะปัะฑะธะผ!",
    "ะัััะต ะฑััั ะฟัะพััะพ ัะฒะธะฝะพัะพะฑะฐะบะพะน",
}

// CheckMrazotstvoTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะผัะฐะทั/ะดะตะฑะธะป
// ะัะธะพัะธัะตั: 16-ะน
// ะะตัะพััะฝะพััั: 25% + ัะปััะฐะนะฝัะน ะฒัะฑะพั ะธะท 2 ะฒะฐัะธะฐะฝัะพะฒ
func CheckMrazotstvoTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    text := normalizeText(msg.Text)
    foundWords := []string{}
    
    for _, word := range mrazNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    for _, word := range mrazAdjectives {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ฟ ะขัะธะณะณะตั Mrazotstvo: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.25 { // 75% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ Mrazotstvo (ะฒะตัะพััะฝะพััั 25%%)")
        sendMrazotstvoTriggerLogToChat(bot, msg, foundWords, false, 0, logChatID)
        return false
    }
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั
    responseIndex := rand.Intn(len(mrazResponses))
    response := mrazResponses[responseIndex]
    
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ Mrazotstvo: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั Mrazotstvo: ะฒะฐัะธะฐะฝั %d", responseIndex+1)
    sendMrazotstvoTriggerLogToChat(bot, msg, foundWords, true, responseIndex, logChatID)
    return true
}

func sendMrazotstvoTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                   foundWords []string, responded bool, responseIndex int, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = fmt.Sprintf("โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 25%%, ะฒะฐัะธะฐะฝั %d/%d)", 
                                    responseIndex+1, len(mrazResponses))
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 25%%)"
    }
    
    responseText := ""
    if responded {
        responseText = mrazResponses[responseIndex]
    } else {
        responseText = mrazResponses[0] + " ะธะปะธ " + mrazResponses[1]
    }
    
    // ะะฑัะตะทะฐะตะผ ะตัะปะธ ะผะฝะพะณะพ ัะปะพะฒ
    wordsForLog := foundWords
    if len(foundWords) > 5 {
        wordsForLog = foundWords[:5]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั Mrazotstvo*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        wordsForLog,
        len(foundWords),
        responseText,
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ Mrazotstvo: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ััะธะณะณะตัะฝัั ัะปะพะฒ ะผัะทัะบะธ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var musicNouns = []string{
    "ะผัะทัะบะฐ", "ะผัะทัะบั", "ะผัะทัะบะพะน", "ะผัะทัะบะธ", "ะผัะทัะบะต",
    "ะผัะทะปะพ", "ะผัะทะปะฐ",
    "ะฟะตัะฝั", "ะฟะตัะตะฝ", "ะฟะตัะฝะธ", "ะฟะตัะฝัะผ", "ะฟะตัะฝัะผะธ",
    "ัะตะฟ", "ััะฟ", "ัะตะฟัะธะบ", "ััะฟัะธะบ", "ัะตะฟะตั", "ััะฟะตั",
    "ะฟะพะฟัะฐ", "ะฟะพะฟัั", "ะฟะพะฟัั",
    "ะบะปะธะฟ", "ะบะปะธะฟะต",
}

var musicAdjectives = []string{
    "ะผัะทัะบะฐะปัะฝัะน", "ะผัะทัะบะฐะปัะฝะพะน", "ะผัะทัะบะฐะปัะฝะฐั",
}

// CheckMusicKorolShutTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะผัะทัะบะฐะปัะฝัะต ัะปะพะฒะฐ
// ะัะธะพัะธัะตั: 9-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
// ะะตัะพััะฝะพััั: 50% (ะบะฐะถะดะพะต 2-ะต ะฟัะธะผะตัะฝะพ)
func CheckMusicKorolShutTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะฒัะต ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ
    foundWords := []string{}
    
    // ะัะพะฒะตััะตะผ ัััะตััะฒะธัะตะปัะฝัะต
    for _, word := range musicNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ะฟัะธะปะฐะณะฐัะตะปัะฝัะต
    for _, word := range musicAdjectives {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ต ะขัะธะณะณะตั MusicKorolShut: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะพะฒะตััะตะผ ะฒะตัะพััะฝะพััั (50%)
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.5 { // 50% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ MusicKorolShut (ะฒะตัะพััะฝะพััั 50%%)")
        sendMusicKorolShutTriggerLogToChat(bot, msg, foundWords, false, logChatID)
        return false
    }
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะัััะต ะฒะบะปััะธ ะะพัะพะปั ะธ ะจัั")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ MusicKorolShut: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั MusicKorolShut")
    
    // ะะพะณะธััะตะผ
    sendMusicKorolShutTriggerLogToChat(bot, msg, foundWords, true, logChatID)
    
    return true
}

// sendMusicKorolShutTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendMusicKorolShutTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                       foundWords []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 50%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 50%%)"
    }
    
    // ะะฑัะตะทะฐะตะผ ัะฟะธัะพะบ ัะปะพะฒ ะตัะปะธ ะธั ะผะฝะพะณะพ
    wordsForLog := foundWords
    if len(foundWords) > 5 {
        wordsForLog = foundWords[:5]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั MusicKorolShut*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        wordsForLog,
        len(foundWords),
        "ะัััะต ะฒะบะปััะธ ะะพัะพะปั ะธ ะจัั",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ MusicKorolShut: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "strings"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ััะธะณะณะตัะฝัั ัะปะพะฒ ะะพััะธั/ัะพะดะธะฝะฐ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var russiaNouns = []string{
    "ัะพััะธั", "ัะพััะธะธ", "ัะพััะธะตะน", "ัะพััะธั",
    "ัะพััะธัะฝะต", "ัะพััะธัะฝะฐะผ",
    "ัั",
    "ัะพะดะธะฝะฐ", "ัะพะดะธะฝะต", "ัะพะดะธะฝะพะน", "ัะพะดะธะฝั", "ัะพะดะธะฝั",
}

var russiaAdjectives = []string{
    "ััััะบะธะน", "ััััะบะธะผ",
    "ัะพััะธะนัะบะธะน", "ัะพััะธะนัะบะธั", "ัะพััะธะนัะบะธะต",
    "ะพะฑัััะตะฒัะธะน",
}

var russiaPhrases = []string{
    "ะฒ ะฝะฐัะตะน ัััะฐะฝะต",
    "ั ะฝะฐั ะฒ ัััะฐะฝะต", 
    "ะฝะฐ ะฝะฐัะตะน ั ะฒะฐะผะธ ัะพะดะธะฝะต",
}

// CheckRussiaSlavaTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะฐ ะะพััะธั/ัะพะดะธะฝะฐ
// ะัะธะพัะธัะตั: 10-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
// ะะตัะพััะฝะพััั: 100% (ะฒัะตะณะดะฐ)
func CheckRussiaSlavaTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะฒัะต ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะธ ััะฐะทั
    foundWords := []string{}
    
    // ะัะพะฒะตััะตะผ ัััะตััะฒะธัะตะปัะฝัะต
    for _, word := range russiaNouns {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ะฟัะธะปะฐะณะฐัะตะปัะฝัะต
    for _, word := range russiaAdjectives {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะพะฒะตััะตะผ ัะปะพะฒะพัะพัะตัะฐะฝะธั
    for _, phrase := range russiaPhrases {
        if strings.Contains(text, phrase) {
            foundWords = append(foundWords, phrase)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ท๐บ ะขัะธะณะณะตั RussiaSlava: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั (ะฒัะตะณะดะฐ)
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะกะปะฐะฒะฐ ะะพััะธะธ!")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ RussiaSlava: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั RussiaSlava")
    
    // ะะพะณะธััะตะผ
    sendRussiaSlavaTriggerLogToChat(bot, msg, foundWords, logChatID)
    
    return true
}

// sendRussiaSlavaTriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendRussiaSlavaTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                    foundWords []string, logChatID int64) {
    
    // ะะฑัะตะทะฐะตะผ ัะฟะธัะพะบ ัะปะพะฒ ะตัะปะธ ะธั ะผะฝะพะณะพ
    wordsForLog := foundWords
    if len(foundWords) > 5 {
        wordsForLog = foundWords[:5]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั RussiaSlava*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒัะตะณะดะฐ 100%%)\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        wordsForLog,
        len(foundWords),
        "ะกะปะฐะฒะฐ ะะพััะธะธ!",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ RussiaSlava: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// spartakTriggerWords - ัะฟะธัะพะบ ััะธะณะณะตัะฝัั ัะปะพะฒ ะกะฟะฐััะฐะบ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var spartakTriggerWords = []string{
    "ัะฟะฐััะฐะบ", "ััะฐะผัะฐะบ", "ัะฟะฐััะฐั", "ัะฟะฐััะฐะบั", "ัะฟะฐััะฐะบะพะฒะตั", 
    "ัะฟะฐััะฐะบะฐ", "ัะฟะฐััะฐัะฐะผ", "ัะฟะฐััะฐะบะธ", "ัะฟะฐััะฐะบะพะผ",
}

// spartakResponses - ะฒะพะทะผะพะถะฝัะต ะพัะฒะตัั ะฝะฐ ััะธะณะณะตั ะกะฟะฐััะฐะบ
var spartakResponses = []string{
    "ะะฑะฐัั ัะฟะฐััะฐะบ!",
    "ะั ะะพัะบะฒั ะธ ะดะพ ะะฐะบั ะฒ ัะพั ะดะฐะฒะฐะปะธ ัะฟะฐััะฐะบั!",
    "ะะธะดะพัะฒะฐ!",
    `ะั ะฒัะฟัะตะผ ะฒะฐัั ะฒะพะดะบั! 
ะั ััะฐัะฝะตะผ ะฒะฐัะธั ะะฐะฑ
ะะฑะฐัั ัะฟะฐััะฐะบ ะผะพัะบะพะฒัะบะธะน!
*ะะพะธััะธะฝั ะตะฑะฐัั!!*`,
}

// CheckSpartakTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะกะฟะฐััะฐะบ
// ะธ ะพัะฟัะฐะฒะปัะตั ัะปััะฐะนะฝัะน ะพัะฒะตั ะธะท ัะฟะธัะบะฐ
func CheckSpartakTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะัะธะฒะพะดะธะผ ัะตะบัั ะบ ะฝะธะถะฝะตะผั ัะตะณะธัััั ะดะปั ะฟัะพะฒะตัะบะธ
    textLower := strings.ToLower(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะบะฐะถะดะพะต ััะธะณะณะตัะฝะพะต ัะปะพะฒะพ
    var foundWords []string
    for _, word := range spartakTriggerWords {
        if strings.Contains(textLower, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะฝะต ะฝะฐะนะดะตะฝั
    if len(foundWords) == 0 {
        return false
    }
    
    // ะะพะณะธััะตะผ ะพะฑะฝะฐััะถะตะฝะธะต
    log.Printf("๐ ะะฐะนะดะตะฝั ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะกะฟะฐััะฐะบ: %v", foundWords)
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั
    rand.Seed(time.Now().UnixNano())
    responseIndex := rand.Intn(len(spartakResponses))
    response := spartakResponses[responseIndex]
    
    // ะัะฟัะฐะฒะปัะตะผ ัะตะฟะปะฐะน
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    replyMsg.ParseMode = "Markdown" // ะะปั ะถะธัะฝะพะณะพ ัะตะบััะฐ ะฒ ะฟะพัะปะตะดะฝะตะผ ะพัะฒะตัะต
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ัะตะฟะปะฐั ะกะฟะฐััะฐะบ: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ัะตะฟะปะฐะน ะกะฟะฐััะฐะบ (ะฒะฐัะธะฐะฝั %d): %s", 
        responseIndex+1, strings.Split(response, "\n")[0])
    
    // ะะพะณะธััะตะผ ะฒ ะปะพะณ-ัะฐั
    sendSpartakTriggerLogToChat(bot, msg, foundWords, responseIndex, logChatID)
    
    return true
}

// sendSpartakTriggerLogToChat ะพัะฟัะฐะฒะปัะตั ะธะฝัะพัะผะฐัะธั ะพ ััะธะณะณะตัะต ะกะฟะฐััะฐะบ ะฒ ะปะพะณ-ัะฐั
func sendSpartakTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                foundWords []string, responseIndex int, logChatID int64) {
    
    // ะะฑัะตะทะฐะตะผ ะดะปะธะฝะฝัะน ะพัะฒะตั ะดะปั ะปะพะณะฐ
    shortResponse := spartakResponses[responseIndex]
    if len(shortResponse) > 50 {
        shortResponse = shortResponse[:50] + "..."
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั ะกะฟะฐััะฐะบ*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป*\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s\n" +
        "๐ข *ะะฐัะธะฐะฝั ะพัะฒะตัะฐ:* %d/%d",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        escapeMarkdown(shortResponse),
        responseIndex+1,
        len(spartakResponses),
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ ััะธะณะณะตัะฐ ะกะฟะฐััะฐะบ: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ััะธะณะณะตัะฝัั ัะปะพะฒ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var svinoSobakaV2Words = []string{
    "ัะฒะธะฝะพัะพะฑะฐะบะฐ",
    "ัะฒะธะฝะพัะพะฑะฐะบะธ", 
    "ัะฒะธะฝะพัะพะฑะฐะบะฐะผ",
    "ัะฒะธะฝะพัะพะฑะฐะบ",
    "ัะฒะธะฝะพัะพะฑะฐัะฝะธะบ",
}

// CheckSvinoSobakaV2Triggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะฐ ัะฒะธะฝะพัะพะฑะฐะบะฐ-v2
// ะัะธะพัะธัะตั: 7-ะน
// ะะตัะพััะฝะพััั: 33% (ะฟัะธะผะตัะฝะพ ะบะฐะถะดะพะต 3-ะต)
func CheckSvinoSobakaV2Triggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะะพัะผะฐะปะธะทัะตะผ ัะตะบัั
    text := normalizeText(msg.Text)
    
    // ะัะพะฒะตััะตะผ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ
    foundWords := []string{}
    for _, word := range svinoSobakaV2Words {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ะฝะธัะตะณะพ ะฝะต ะฝะฐะนะดะตะฝะพ
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ท ะขัะธะณะณะตั SvinoSobakaV2: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะพะฒะตััะตะผ ะฒะตัะพััะฝะพััั (33%)
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.33 { // 67% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ SvinoSobakaV2 (ะฒะตัะพััะฝะพััั 33%%)")
        sendSvinoSobakaV2TriggerLogToChat(bot, msg, foundWords, false, logChatID)
        return false
    }
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะ ะผะพะถะตั ะฑััั ะฒัั-ัะฐะบะธ ัะฒะธะฝะพัะพะฑะฐะบะฐ โ ััะพ ัั?")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ SvinoSobakaV2: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั SvinoSobakaV2")
    
    // ะะพะณะธััะตะผ
    sendSvinoSobakaV2TriggerLogToChat(bot, msg, foundWords, true, logChatID)
    
    return true
}

// sendSvinoSobakaV2TriggerLogToChat ะปะพะณะธััะตั ััะฐะฑะฐััะฒะฐะฝะธะต ััะธะณะณะตัะฐ
func sendSvinoSobakaV2TriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                      foundWords []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 33%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 33%%)"
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั SvinoSobakaV2*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        "ะ ะผะพะถะตั ะฑััั ะฒัั-ัะฐะบะธ ัะฒะธะฝะพัะพะฑะฐะบะฐ โ ััะพ ัั?",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ SvinoSobakaV2: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// triggerWordsSvinoSobaka - ัะฟะธัะพะบ ััะธะณะณะตัะฝัั ัะปะพะฒ (ะฒ ะฝะธะถะฝะตะผ ัะตะณะธัััะต)
var triggerWordsSvinoSobaka = []string{
    "ะฟัั", "ะฟัะพะผ", "ัะพะฑะฐะบะฐ", "ัะพะฑะฐะบะต", "ัะพะฑะฐะบะฐะผ", "ัะพะฑะฐะบะธ", "ัะพะฑะฐะบ", 
    "ัะพะฑะฐัะบะฐ", "ัะพะฑะฐัะพะฝะบะฐ", "ัะพะฑะฐัะฝะธะบ", "ัะพะฑะฐัะฝะธัะฐ", "ัะพะฑะฐัะฐัะธะฝะฐ", 
    "ัะฒะธะฝัั", "ัะฒะธะฝัะต", "ัะฒะธะฝััะผ", "ัะฒะธะฝะตะน", "ัะฒะธะฝัะธ", "ัะฒะธะฝ", 
    "ัะฒะธะฝะบะฐ", "ัะฒะธะฝัะฝะพะบ", "ัะฒะธะฝััั", "ัะฒะธะฝััะบะฐ", "ัะฒะธะฝััะฒะพ", 
    "ัะฒะธะฝะฐัะฝะธะบ", "ัะฒะธะฝะฐัะฝั", "ัะฒะธะฝะพัะตัะผะฐ", "ัะฒะธะฝะพัะพะฒัะพะท", 
    "ัะฒะธะฝะพะบะพะผะฟะปะตะบั", "ัะฒะธะฝะพะผะฐัะบะฐ", "ัะฒะธะฝะพะฒะพะดััะฒะพ", "ัะฒะธะฝะพะฒะพะด", 
    "ัะฒะธะฝะฐัั", "ัะฒะธะฝะฐัะบะฐ", "ัะฒะธะฝะพะฑะพะน", "ัะฒะธะฝะพะฑะพะตั", "ัะฒะธะฝะพะฟะฐั", 
    "ัะฒะธะฝะธะฝะฐ", "ัะฒะธะฝะพะบะพะฟััะฝะพััะธ", "ัะฒะธะฝััะฐ", "ัะฒะธะฝััะบะฐ", 
    "ัะฒะธะฝะพะฑะฐัะผะตะฝ", "ัะฒะธะฝะพัะฐ", "ัะฒะธะฝะพัะตะบะฐ", "ะดะทัะฑะฐ",
    "ัะพะฑะฐัะธะน", "ัะพะฑะฐะบะธะฝ", "ัะฒะธะฝะพะน", "ัะฒะธะฝัะบะธะน", "ัะฒะธะฝััะธะน", 
    "ัะฒะธะฝะพะบะพะฟััะฝัะน", "ัะฒะธะฝะพะฟะพะดะพะฑะฝัะน", "ัะฒะธะฝะพะฒะพะดัะตัะบะธะน",
    "ัะพะฑะฐัะธัััั", "ะฟัะธัะพะฑะฐัะธัั", "ัะฒะธะฝััะธัั", "ะฝะฐัะฒะธะฝััะธัั", 
    "ะฝะฐัะฒะธะฝััะธัััั",
    "ะฝะฐัะฒะธะฝััะตะฝะฝัะน", "ะฝะฐัะฒะธะฝััะธะฒัะธะน",
}

// reactionProbability - ะฒะตัะพััะฝะพััั ัะตะฐะบัะธะธ (0.5 = 50%)
const reactionProbability = 0.5

// CheckSvinoSobakaTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ
// ะธ ั ะฒะตัะพััะฝะพัััั 50% ะพัะฟัะฐะฒะปัะตั ัะตะฟะปะฐะน "ะกะฒะธะฝะพัะพะฑะฐะบะฐ"
func CheckSvinoSobakaTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    // ะัะธะฒะพะดะธะผ ัะตะบัั ะบ ะฝะธะถะฝะตะผั ัะตะณะธัััั ะดะปั ะฟัะพะฒะตัะบะธ
    textLower := strings.ToLower(msg.Text)
    
    // ะัะพะฒะตััะตะผ ะบะฐะถะดะพะต ััะธะณะณะตัะฝะพะต ัะปะพะฒะพ
    var foundWords []string
    for _, word := range triggerWordsSvinoSobaka {
        if strings.Contains(textLower, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    // ะัะปะธ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ ะฝะต ะฝะฐะนะดะตะฝั
    if len(foundWords) == 0 {
        return false
    }
    
    // ะะพะณะธััะตะผ ะพะฑะฝะฐััะถะตะฝะธะต
    log.Printf("๐ ะะฐะนะดะตะฝั ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ: %v", foundWords)
    
    // ะัะพะฒะตััะตะผ ะฒะตัะพััะฝะพััั ัะตะฐะบัะธะธ
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > reactionProbability {
        log.Printf("๐ฒ ะัะพะฟััะบะฐะตะผ ัะตะฐะบัะธั (ะฝะต ะฒัะฟะฐะปะฐ ะฒะตัะพััะฝะพััั 50%%)")
        
        // ะะพ ะฒัั ัะฐะฒะฝะพ ะปะพะณะธััะตะผ ะฒ ะปะพะณ-ัะฐั
        sendTriggerLogToChat(bot, msg, foundWords, false, logChatID)
        return false
    }
    
    // ะัะฟัะฐะฒะปัะตะผ ัะตะฟะปะฐะน "ะกะฒะธะฝะพัะพะฑะฐะบะฐ"
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะกะฒะธะฝะพัะพะฑะฐะบะฐ")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ัะตะฟะปะฐั: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ัะตะฟะปะฐะน ะฝะฐ ััะธะณะณะตัะฝัะต ัะปะพะฒะฐ: %v", foundWords)
    
    // ะะพะณะธััะตะผ ะฒ ะปะพะณ-ัะฐั
    sendTriggerLogToChat(bot, msg, foundWords, true, logChatID)
    
    return true
}

// sendTriggerLogToChat ะพัะฟัะฐะฒะปัะตั ะธะฝัะพัะผะฐัะธั ะพ ััะธะณะณะตัะต ะฒ ะปะพะณ-ัะฐั
func sendTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                         foundWords []string, reacted bool, logChatID int64) {
    
    var reactionStatus string
    if reacted {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป*"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ (ะฒะตัะพััะฝะพััั)*"
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั ะกะฒะธะฝะพัะพะฑะฐะบะฐ*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ ััะธะณะณะตัะฐ: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะบะธ ัะปะพะฒ ะฒัะตัะฐ/ะฟะพะผะฝะธัะต
var vcheraWords = []string{
    "ะฒัะตัะฐ", "ะฟะพะทะฐะฒัะตัะฐ", "ัะตะณะพะดะฝั", "ะทะฐะฒััะฐ",
}

var vcheraPhrases = []string{
    "ะบะฐะบ ะฒ ัะพั ัะฐะท", "ะฐ ะฟะพะผะฝะธัะต", "ะฒัะฟะพะผะฝะธ", "ะฒัะฟะพะผะฝั", 
    "ะฒัะฟะพะผะฝะธัั", "ะฝะต ะทะฐะฑัะดั", "ะฝะต ะทะฐะฑัะดััะต", "ะฝะต ะทะฐะฑัะฒะฐะตะผ",
}

// ะะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ
var vcheraResponses = []string{
    "ะญัะพ ะดะฐ, ะฐ ะบัะพ ะฒัะตัะฐ ะพะฟััั ะฝะฐะถัะฐะปัั?",
    "ะญัะพ ะดะฐ, ะฐ ะฒัะตัะฐ ะบัะพ ะฝะฐะถัะฐะปัั ะบะฐะบ ัะฒะธะฝะพัะฐะฒั?",
}

// CheckVcheraNajralsyaTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะฒัะตัะฐ/ะฟะพะผะฝะธัะต
// ะัะธะพัะธัะตั: 15-ะน
// ะะตัะพััะฝะพััั: 33% + ัะปััะฐะนะฝัะน ะฒัะฑะพั ะธะท 2 ะฒะฐัะธะฐะฝัะพะฒ
func CheckVcheraNajralsyaTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    text := normalizeText(msg.Text)
    foundWords := []string{}
    
    for _, word := range vcheraWords {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    for _, phrase := range vcheraPhrases {
        if strings.Contains(text, phrase) {
            foundWords = append(foundWords, phrase)
        }
    }
    
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ฐ๏ธ ะขัะธะณะณะตั VcheraNajralsya: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.33 { // 67% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ VcheraNajralsya (ะฒะตัะพััะฝะพััั 33%%)")
        sendVcheraNajralsyaTriggerLogToChat(bot, msg, foundWords, false, 0, logChatID)
        return false
    }
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั
    responseIndex := rand.Intn(len(vcheraResponses))
    response := vcheraResponses[responseIndex]
    
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ VcheraNajralsya: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั VcheraNajralsya: ะฒะฐัะธะฐะฝั %d", responseIndex+1)
    sendVcheraNajralsyaTriggerLogToChat(bot, msg, foundWords, true, responseIndex, logChatID)
    return true
}

func sendVcheraNajralsyaTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                        foundWords []string, responded bool, responseIndex int, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = fmt.Sprintf("โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 33%%, ะฒะฐัะธะฐะฝั %d/%d)", 
                                    responseIndex+1, len(vcheraResponses))
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 33%%)"
    }
    
    responseText := ""
    if responded {
        responseText = vcheraResponses[responseIndex]
    } else {
        responseText = vcheraResponses[0] + " ะธะปะธ " + vcheraResponses[1]
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั VcheraNajralsya*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        responseText,
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ VcheraNajralsya: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ะธะผัะฝ ะะธัะฐะปะธะบ
var vitalikNames = []string{
    "ะฒะธัะฐะปะธะบ", "ะฒะธัะฐะปั", "ะฒะธัะฐะปั", "ะฒะธัะฐะปะธะน",
}

// CheckVitalikViebatTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ะธะผั ะะธัะฐะปะธะบ
// ะัะธะพัะธัะตั: 14-ะน
// ะะตัะพััะฝะพััั: 25% (ะบะฐะถะดะพะต 4-ะต ะฟัะธะผะตัะฝะพ)
func CheckVitalikViebatTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    text := normalizeText(msg.Text)
    foundNames := []string{}
    
    for _, name := range vitalikNames {
        if strings.Contains(text, name) {
            foundNames = append(foundNames, name)
        }
    }
    
    if len(foundNames) == 0 {
        return false
    }
    
    log.Printf("๐ค ะขัะธะณะณะตั VitalikViebat: ะฝะฐะนะดะตะฝะพ %d ะธะผัะฝ ะพั @%s", 
               len(foundNames), msg.From.UserName)
    
    rand.Seed(time.Now().UnixNano())
    if rand.Float64() > 0.25 { // 75% ัะฐะฝั ะฟัะพะฟัััะธัั
        log.Printf("๐ฒ ะัะพะฟััะตะฝะพ VitalikViebat (ะฒะตัะพััะฝะพััั 25%%)")
        sendVitalikViebatTriggerLogToChat(bot, msg, foundNames, false, logChatID)
        return false
    }
    
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, "ะััะพัะพะถะฝะพ, ะผะพะถะตั ะฒัะตะฑะฐัั!")
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ VitalikViebat: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั VitalikViebat")
    sendVitalikViebatTriggerLogToChat(bot, msg, foundNames, true, logChatID)
    return true
}

func sendVitalikViebatTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                      foundNames []string, responded bool, logChatID int64) {
    
    var reactionStatus string
    if responded {
        reactionStatus = "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒะตัะพััะฝะพััั 25%%)"
    } else {
        reactionStatus = "๐ฒ *ะัะพะฟััะตะฝะพ ัะฐะฝะดะพะผะฐะนะทะตัะพะผ* (ะฒะตัะพััะฝะพััั 25%%)"
    }
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั VitalikViebat*\n\n" +
        "%s\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ะธะผะตะฝะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ะธะผัะฝ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s",
        reactionStatus,
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundNames,
        len(foundNames),
        "ะััะพัะพะถะฝะพ, ะผะพะถะตั ะฒัะตะฑะฐัั!",
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ VitalikViebat: %v", err)
    }
}
package mybot

import (
    "fmt"
    "log"
    "math/rand"
    "strings"
    "time"
    
    tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

// ะกะฟะธัะพะบ ัะปะพะฒ ะฒัะตะทะด
var vyezdWords = []string{
    "ะฒัะตะทะด", "ะฒัะตะทะดะต", "ะฒัะตะทะดะพะฒ", "ะฒัะตะทะดะฐะผ", "ะฒัะตะทะดะฐ",
}

// ะะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ
var vyezdResponses = []string{
    "ะัะตะทะด โ ััะพ ะฟัะฐะทะดะฝะธะบ!",
    "ะะพะฝััั ะฒัะตะณะดะฐ ะฝะฐะดะพ!",
}

// CheckVyezdPrazdnikTriggers ะฟัะพะฒะตััะตั ัะพะพะฑัะตะฝะธะต ะฝะฐ ัะปะพะฒะพ ะฒัะตะทะด
// ะัะธะพัะธัะตั: 17-ะน (ัะฐะผัะน ะฟะพัะปะตะดะฝะธะน)
// ะะตัะพััะฝะพััั: 100% (ะฒัะตะณะดะฐ) + ัะปััะฐะนะฝัะน ะฒัะฑะพั ะธะท 2 ะฒะฐัะธะฐะฝัะพะฒ
func CheckVyezdPrazdnikTriggers(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, logChatID int64) bool {
    if msg.Text == "" {
        return false
    }
    
    text := normalizeText(msg.Text)
    foundWords := []string{}
    
    for _, word := range vyezdWords {
        if strings.Contains(text, word) {
            foundWords = append(foundWords, word)
        }
    }
    
    if len(foundWords) == 0 {
        return false
    }
    
    log.Printf("๐ ะขัะธะณะณะตั VyezdPrazdnik: ะฝะฐะนะดะตะฝะพ %d ัะปะพะฒ ะพั @%s", 
               len(foundWords), msg.From.UserName)
    
    // ะัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ะพัะฒะตั (50/50)
    rand.Seed(time.Now().UnixNano())
    responseIndex := rand.Intn(len(vyezdResponses))
    response := vyezdResponses[responseIndex]
    
    // ะัะฟัะฐะฒะปัะตะผ ะพัะฒะตั (ะฒัะตะณะดะฐ 100%)
    replyMsg := tgbotapi.NewMessage(msg.Chat.ID, response)
    replyMsg.ReplyToMessageID = msg.MessageID
    
    if _, err := bot.Send(replyMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ VyezdPrazdnik: %v", err)
        return false
    }
    
    log.Printf("โ ะัะฟัะฐะฒะปะตะฝ ะพัะฒะตั VyezdPrazdnik: ะฒะฐัะธะฐะฝั %d", responseIndex+1)
    
    // ะะพะณะธััะตะผ
    sendVyezdPrazdnikTriggerLogToChat(bot, msg, foundWords, responseIndex, logChatID)
    
    return true
}

func sendVyezdPrazdnikTriggerLogToChat(bot *tgbotapi.BotAPI, msg *tgbotapi.Message, 
                                      foundWords []string, responseIndex int, logChatID int64) {
    
    logText := fmt.Sprintf(
        "๐ *ะขัะธะณะณะตั VyezdPrazdnik*\n\n" +
        "โ *ะััะตะฐะณะธัะพะฒะฐะป* (ะฒัะตะณะดะฐ 100%%)\n" +
        "๐ *ะกะพะพะฑัะตะฝะธะต:* `%s`\n" +
        "๐ค *ะะพะปัะทะพะฒะฐัะตะปั:* %s\n" +
        "๐ฌ *ะงะฐั ID:* `%d`\n" +
        "๐ฏ *ะะฐะนะดะตะฝะฝัะต ัะปะพะฒะฐ:* %v\n" +
        "๐ *ะัะตะณะพ ัะปะพะฒ:* %d\n" +
        "๐ฌ *ะัะฒะตั:* %s\n" +
        "๐ข *ะะฐัะธะฐะฝั ะพัะฒะตัะฐ:* %d/%d",
        escapeMarkdown(msg.Text),
        escapeMarkdown(msg.From.FirstName),
        msg.Chat.ID,
        foundWords,
        len(foundWords),
        vyezdResponses[responseIndex],
        responseIndex+1,
        len(vyezdResponses),
    )
    
    logMsg := tgbotapi.NewMessage(logChatID, logText)
    logMsg.ParseMode = "Markdown"
    
    if _, err := bot.Send(logMsg); err != nil {
        log.Printf("โ ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะปะพะณะฐ VyezdPrazdnik: %v", err)
    }
}
[
  {
    "trigger_id": 1,
    "trigger_name": "ะะฑะฐัั ััั/ัะฟะฐััะฐะบ",
    "tech_key": "EBAT_UFU_SPARTAK",
    "priority": 1,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 1,
        "pattern_text": "ะตะฑะฐัั ััั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 2,
        "pattern_text": "ะตะฑะฐัั ัะฟะฐััะฐะบ",
        "pattern_type": "phrase"
      }
    ],
    "responses": [ 
      {
        "response_id": 1,
        "response_text": "+",
        "response_weight": 1
      },
      {
        "response_id": 27,
        "response_text": "ะะพะธััะธะฝั!",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 2,
    "trigger_name": "ะกะฒะธะฝะพัะพะฑะฐะบะฐ",
    "tech_key": "SVINO_SOBAKA",
    "priority": 2,
    "probability": 0.5,
    "patterns": [
      {
        "pattern_id": 3,
        "pattern_text": "ะฟัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 4,
        "pattern_text": "ัะพะฑะฐะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 5,
        "pattern_text": "ัะฒะธะฝัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 6,
        "pattern_text": "ัะฒะธะฝะพะฟะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 7,
        "pattern_text": "ะดะทัะฑะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 8,
        "pattern_text": "ัะพะฑะฐัะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 9,
        "pattern_text": "ัะฒะธะฝะพะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 52,
        "pattern_text": "ะฟัะพะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 53,
        "pattern_text": "ัะพะฑะฐะบะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 54,
        "pattern_text": "ัะพะฑะฐะบะฐะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 55,
        "pattern_text": "ัะพะฑะฐะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 56,
        "pattern_text": "ัะพะฑะฐัะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 57,
        "pattern_text": "ัะพะฑะฐัะพะฝะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 58,
        "pattern_text": "ัะพะฑะฐัะฝะธัะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 59,
        "pattern_text": "ัะพะฑะฐัะฐัะธะฝะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 60,
        "pattern_text": "ัะฒะธะฝัะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 61,
        "pattern_text": "ัะฒะธะฝััะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 62,
        "pattern_text": "ัะฒะธะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 63,
        "pattern_text": "ัะฒะธะฝะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 64,
        "pattern_text": "ัะฒะธะฝัะฝะพะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 65,
        "pattern_text": "ัะฒะธะฝััั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 66,
        "pattern_text": "ัะฒะธะฝััะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 67,
        "pattern_text": "ัะฒะธะฝััะฒะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 68,
        "pattern_text": "ัะฒะธะฝะฐัะฝะธะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 69,
        "pattern_text": "ัะฒะธะฝะฐัะฝั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 70,
        "pattern_text": "ัะฒะธะฝะพัะตัะผะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 71,
        "pattern_text": "ัะฒะธะฝะพัะพะฒัะพะท",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 72,
        "pattern_text": "ัะฒะธะฝะพะบะพะผะฟะปะตะบั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 73,
        "pattern_text": "ัะฒะธะฝะพะผะฐัะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 74,
        "pattern_text": "ัะฒะธะฝะพะฒะพะดััะฒะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 75,
        "pattern_text": "ัะฒะธะฝะพะฒะพะด",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 76,
        "pattern_text": "ัะฒะธะฝะฐัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 77,
        "pattern_text": "ัะฒะธะฝะฐัะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 78,
        "pattern_text": "ัะฒะธะฝะพะฑะพะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 79,
        "pattern_text": "ัะฒะธะฝะพะฑะพะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 80,
        "pattern_text": "ัะฒะธะฝะธะฝะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 81,
        "pattern_text": "ัะฒะธะฝะพะบะพะฟััะฝะพััะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 82,
        "pattern_text": "ัะฒะธะฝััะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 83,
        "pattern_text": "ัะฒะธะฝััะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 84,
        "pattern_text": "ัะฒะธะฝะพะฑะฐัะผะตะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 85,
        "pattern_text": "ัะฒะธะฝะพัะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 86,
        "pattern_text": "ัะฒะธะฝะพัะตะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 87,
        "pattern_text": "ัะพะฑะฐะบะธะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 88,
        "pattern_text": "ัะฒะธะฝัะบะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 89,
        "pattern_text": "ัะฒะธะฝััะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 90,
        "pattern_text": "ัะฒะธะฝะพะบะพะฟััะฝัะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 91,
        "pattern_text": "ัะฒะธะฝะพะฟะพะดะพะฑะฝัะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 92,
        "pattern_text": "ัะฒะธะฝะพะฒะพะดัะตัะบะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 93,
        "pattern_text": "ัะพะฑะฐัะธัััั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 94,
        "pattern_text": "ะฟัะธัะพะฑะฐัะธัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 95,
        "pattern_text": "ัะฒะธะฝััะธัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 96,
        "pattern_text": "ะฝะฐัะฒะธะฝััะธัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 97,
        "pattern_text": "ะฝะฐัะฒะธะฝััะธัััั",
        "pattern_type": "verb"
      }
    ],
    "responses": [
      {
        "response_id": 2,
        "response_text": "ะกะฒะธะฝะพัะพะฑะฐะบะฐ",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 3,
    "trigger_name": "ะกะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ",
    "tech_key": "SPARTAK_KUDA_DENEM",
    "priority": 3,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 10,
        "pattern_text": "ัะฟะฐััะฐะบ ะบัะดะฐ ะดะตะฝะตะผ",
        "pattern_type": "phrase"
      }
    ],
    "responses": [
      {
        "response_id": 3,
        "response_text": "ะะ ะฅะฃะ ะะะะะะะ",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 4,
    "trigger_name": "ะกะฟะฐััะฐะบ",
    "tech_key": "SPARTAK",
    "priority": 4,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 11,
        "pattern_text": "ัะฟะฐััะฐะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 12,
        "pattern_text": "ััะฐะผัะฐะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 13,
        "pattern_text": "ัะฟะฐััะฐั",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 4,
        "response_text": "ะะฑะฐัั ัะฟะฐััะฐะบ!",
        "response_weight": 1
      },
      {
        "response_id": 5,
        "response_text": "ะั ะะพัะบะฒั ะธ ะดะพ ะะฐะบั ะฒ ัะพั ะดะฐะฒะฐะปะธ ัะฟะฐััะฐะบั!",
        "response_weight": 1
      },
      {
        "response_id": 6,
        "response_text": "ะะธะดะพัะฒะฐ!",
        "response_weight": 1
      },
      {
        "response_id": 7,
        "response_text": "ะั ะฒัะฟัะตะผ ะฒะฐัั ะฒะพะดะบั! ะั ััะฐัะฝะตะผ ะฒะฐัะธั ะะฐะฑ...",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 5,
    "trigger_name": "ะะปะบะพะณะพะปั",
    "tech_key": "ALKOGOL",
    "priority": 5,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 14,
        "pattern_text": "ะฟัะฐะทะดะฝะธะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 15,
        "pattern_text": "ะฟะธะฒะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 16,
        "pattern_text": "ะฒะธัะบะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 17,
        "pattern_text": "ะฒัะฟัะตะผ",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 18,
        "pattern_text": "ะดะตะฝั ัะพะถะดะตะฝะธั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 98,
        "pattern_text": "ะฟะธะฒะบะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 99,
        "pattern_text": "ะฟะธะฒะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 100,
        "pattern_text": "ะฟะธะฒะฐัะธะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 101,
        "pattern_text": "ะฟะธะฒะฐัะธะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 102,
        "pattern_text": "ะฟะธะฒะฐัะธะบั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 103,
        "pattern_text": "ะฟะธะฒะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 104,
        "pattern_text": "ะฟะธะฒะบั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 105,
        "pattern_text": "ะฒะธัะบะฐัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 106,
        "pattern_text": "ะฒะธัะบะฐัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 107,
        "pattern_text": "ะฒะธัะบะฐััะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 108,
        "pattern_text": "ะฝะฐััะพะนะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 109,
        "pattern_text": "ะฝะฐััะพะนะบะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 110,
        "pattern_text": "ะฝะฐััะพะนะบั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 111,
        "pattern_text": "ะฝะฐััะพะนะบะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 112,
        "pattern_text": "ััะผะตะฝะฝะพะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 113,
        "pattern_text": "ััะผะตะฝะฝะพะณะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 114,
        "pattern_text": "ัะฒะตัะปะพะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 115,
        "pattern_text": "ัะฒะตัะปะพะณะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 116,
        "pattern_text": "ััะผะฝะพะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 117,
        "pattern_text": "ััะผะฝะพะณะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 118,
        "pattern_text": "ะธะณัะธััะพะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 119,
        "pattern_text": "ัะฑะฝััั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 120,
        "pattern_text": "ะนะพะฑะฝะตะผ",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 121,
        "pattern_text": "ะฒัะฟะธัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 122,
        "pattern_text": "ะฒัะฟะธะปะธ",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 123,
        "pattern_text": "ะฝะฐััััะธะผัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 124,
        "pattern_text": "ะฑะฐัะฝะตะผ",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 125,
        "pattern_text": "ะฝะฐััััะธัััั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 126,
        "pattern_text": "ั ะดะฝัะผ ัะพะถะดะตะฝะธั",
        "pattern_type": "phrase"
      }
    ],
    "responses": [
      {
        "response_id": 8,
        "response_text": "ะะฐะฒะฐะนัะต ะฒัะฟัะตะผ!",
        "response_weight": 1
      },
      {
        "response_id": 9,
        "response_text": "ะะฐะฒะฐะน ะนะพะฑะฝะตะผ!",
        "response_weight": 1
      },
      {
        "response_id": 10,
        "response_text": "ะะพะณะดะฐ ะฒ ะฑะฐั ะฟะพะนะดัะผ?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 6,
    "trigger_name": "ะะฐะฟะตั/ะฟะธะทะดะตั",
    "tech_key": "KAPETS_PIZDETS",
    "priority": 6,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 19,
        "pattern_text": "ะบะฐะฟะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 20,
        "pattern_text": "ะฟะธะทะดะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 21,
        "pattern_text": "ะฟะทะดั",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 11,
        "response_text": "ะขัะฐะบัะพั ะพะฟััั ะฟัะพะตะฑะฐะป?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 7,
    "trigger_name": "ะกะฒะธะฝะพัะพะฑะฐะบะฐ-v2",
    "tech_key": "SVINO_SOBAKA_V2",
    "priority": 7,
    "probability": 0.33,
    "patterns": [
      {
        "pattern_id": 22,
        "pattern_text": "ัะฒะธะฝะพัะพะฑะฐะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 23,
        "pattern_text": "ัะฒะธะฝะพัะพะฑะฐัะฝะธะบ",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 12,
        "response_text": "ะ ะผะพะถะตั ะฑััั ะฒัั-ัะฐะบะธ ัะฒะธะฝะพัะพะฑะฐะบะฐ โ ััะพ ัั?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 8,
    "trigger_name": "ะะพะปะฑะฐัะฑ ัะตััะธัะธะบะฐั",
    "tech_key": "DOLBAEB_SERTIFIKAT",
    "priority": 8,
    "probability": 0.5,
    "patterns": [
      {
        "pattern_id": 24,
        "pattern_text": "ัะฟะฐะป",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 25,
        "pattern_text": "ัะฑะฝัะปัั",
        "pattern_type": "verb"
      },
      {
        "pattern_id": 26,
        "pattern_text": "ะฟะธะทะดะฐะฝัะปัั",
        "pattern_type": "verb"
      }
    ],
    "responses": [
      {
        "response_id": 13,
        "response_text": "ะกะตััะธัะธะบะฐั ะดะพะปะฑะฐัะฑะฐ ะตะผั!",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 9,
    "trigger_name": "ะัะทัะบะฐ",
    "tech_key": "MUZYKA",
    "priority": 9,
    "probability": 0.5,
    "patterns": [
      {
        "pattern_id": 27,
        "pattern_text": "ะผัะทัะบะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 28,
        "pattern_text": "ะฟะตัะฝั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 29,
        "pattern_text": "ัะตะฟ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 30,
        "pattern_text": "ะผัะทัะบะฐะปัะฝัะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 203,
        "pattern_text": "ะผัะทัะบั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 204,
        "pattern_text": "ะผัะทัะบะพะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 205,
        "pattern_text": "ะผัะทัะบะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 206,
        "pattern_text": "ะผัะทัะบะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 207,
        "pattern_text": "ะผัะทะปะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 208,
        "pattern_text": "ะผัะทะปะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 209,
        "pattern_text": "ะฟะตัะตะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 210,
        "pattern_text": "ะฟะตัะฝะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 211,
        "pattern_text": "ะฟะตัะฝัะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 212,
        "pattern_text": "ะฟะตัะฝัะผะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 213,
        "pattern_text": "ัะตะฟัะธะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 214,
        "pattern_text": "ััะฟัะธะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 215,
        "pattern_text": "ัะตะฟะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 216,
        "pattern_text": "ััะฟะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 217,
        "pattern_text": "ะฟะพะฟัะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 218,
        "pattern_text": "ะฟะพะฟัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 219,
        "pattern_text": "ะฟะพะฟัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 220,
        "pattern_text": "ะบะปะธะฟ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 221,
        "pattern_text": "ะบะปะธะฟะต",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 14,
        "response_text": "ะัััะต ะฒะบะปััะธ ะะพัะพะปั ะธ ะจัั",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 10,
    "trigger_name": "ะะพััะธั/ัะพะดะธะฝะฐ",
    "tech_key": "ROSSIYA_RODINA",
    "priority": 10,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 31,
        "pattern_text": "ะะพััะธั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 32,
        "pattern_text": "ัะพะดะธะฝะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 33,
        "pattern_text": "ััััะบะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 34,
        "pattern_text": "ะฒ ะฝะฐัะตะน ัััะฐะฝะต",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 186,
        "pattern_text": "ัะพััะธะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 187,
        "pattern_text": "ัะพััะธะตะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 188,
        "pattern_text": "ัะพััะธั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 189,
        "pattern_text": "ัะพััะธัะฝะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 190,
        "pattern_text": "ัะพััะธัะฝะฐะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 191,
        "pattern_text": "ัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 192,
        "pattern_text": "ัะพะดะธะฝะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 193,
        "pattern_text": "ัะพะดะธะฝะพะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 194,
        "pattern_text": "ัะพะดะธะฝั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 195,
        "pattern_text": "ัะพะดะธะฝั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 196,
        "pattern_text": "ััััะบะธะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 197,
        "pattern_text": "ัะพััะธะนัะบะธะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 198,
        "pattern_text": "ัะพััะธะนัะบะธั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 199,
        "pattern_text": "ัะพััะธะนัะบะธะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 200,
        "pattern_text": "ะพะฑัััะตะฒัะธะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 201,
        "pattern_text": "ั ะฝะฐั ะฒ ัััะฐะฝะต",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 202,
        "pattern_text": "ะฝะฐ ะฝะฐัะตะน ั ะฒะฐะผะธ ัะพะดะธะฝะต",
        "pattern_type": "phrase"
      }
    ],
    "responses": [
      {
        "response_id": 15,
        "response_text": "ะกะปะฐะฒะฐ ะะพััะธะธ!",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 11,
    "trigger_name": "ะะธัะฐะตั/ะบะธัะฐะนัะบะธะน",
    "tech_key": "KITAEC",
    "priority": 11,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 35,
        "pattern_text": "ะบะธัะฐะตั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 36,
        "pattern_text": "ะบะธัะฐะนัะบะธะน",
        "pattern_type": "adjective"
      }
    ],
    "responses": [
      {
        "response_id": 16,
        "response_text": "ะะฐะบั ะบะธัะฐะตั ะพะฟััั ะฟัะพะฟะฐะป?",
        "response_weight": 1
      },
      {
        "response_id": 17,
        "response_text": "ะะธัะฐะตั, ัั ะณะดะต?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 12,
    "trigger_name": "ะะดะธ ะฝะฐ ััะน",
    "tech_key": "IDI_NA_HUI",
    "priority": 12,
    "probability": 0.33,
    "patterns": [
      {
        "pattern_id": 37,
        "pattern_text": "ะธะดะธ ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 38,
        "pattern_text": "ะฟะพัะปะฐ ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 39,
        "pattern_text": "ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 161,
        "pattern_text": "ะธะดะธัะต ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 162,
        "pattern_text": "ะธะดัั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 163,
        "pattern_text": "ะธะดะตั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 164,
        "pattern_text": "ะธะดัั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 165,
        "pattern_text": "ะฝะฐ ััะน ะธะดะตั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 166,
        "pattern_text": "ะฝะฐ ััะน ะธะดัั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 167,
        "pattern_text": "ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 168,
        "pattern_text": "ะฝะฐััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 169,
        "pattern_text": "ะฟะพัะปะฐ ะพะฝะฐ ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 170,
        "pattern_text": "ะธะดะธัะต ะฒัะต ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 171,
        "pattern_text": "ะฟะพัะปะฐ ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 172,
        "pattern_text": "ะฟะพัะตะป ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 173,
        "pattern_text": "ะฟะพััะป ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 174,
        "pattern_text": "ะฟะพัะปะฐ ะพะฝะฐ ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 175,
        "pattern_text": "ะฟะพัะปะธ ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 176,
        "pattern_text": "ะฟะพัะปะธ ะพะฝะธ ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 177,
        "pattern_text": "ะฟะพัะปะธ ะพะฝะธ ะฒัะต ะฒ ะฟะธะทะดั",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 178,
        "pattern_text": "ะฟะพัะปะฐะป ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 179,
        "pattern_text": "ะฟะพัะปะตั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 180,
        "pattern_text": "ะฟะพัะปัั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 181,
        "pattern_text": "ะฟะพัะปะฐะฝ ะฝะฐ ััะน",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 182,
        "pattern_text": "ะฟะพัะปะฐะฝั ะฝะฐ ััะน",
        "pattern_type": "phrase"
      }
    ],
    "responses": [
      {
        "response_id": 18,
        "response_text": "ะะดะธ-ะบะฐ ะปัััะต ัั ะฝะฐ ััะน!",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 13,
    "trigger_name": "ะะฐั/ะบะฐะฑะฐะบ",
    "tech_key": "BAR_KABAK",
    "priority": 13,
    "probability": 0.5,
    "patterns": [
      {
        "pattern_id": 40,
        "pattern_text": "ะฑะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 41,
        "pattern_text": "ะบะฐะฑะฐะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 42,
        "pattern_text": "ะฒ ะฑะฐัะต",
        "pattern_type": "phrase"
      }
    ],
    "responses": [
      {
        "response_id": 19,
        "response_text": "ะ ัะฒะธะฝะพะฑะฐัะผะตะฝ ัะฐะผ?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 14,
    "trigger_name": "ะะธัะฐะปะธะบ",
    "tech_key": "VITALIK",
    "priority": 14,
    "probability": 0.25,
    "patterns": [
      {
        "pattern_id": 43,
        "pattern_text": "ะะธัะฐะปะธะบ",
        "pattern_type": "name"
      },
      {
        "pattern_id": 44,
        "pattern_text": "ะะธัะฐะปั",
        "pattern_type": "name"
      }
    ],
    "responses": [
      {
        "response_id": 20,
        "response_text": "ะััะพัะพะถะฝะพ, ะผะพะถะตั ะฒัะตะฑะฐัั!",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 15,
    "trigger_name": "ะัะตัะฐ/ะฟะพะผะฝะธัะต",
    "tech_key": "VCHERA_POMNITE",
    "priority": 15,
    "probability": 0.33,
    "patterns": [
      {
        "pattern_id": 45,
        "pattern_text": "ะฒัะตัะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 46,
        "pattern_text": "ะฐ ะฟะพะผะฝะธัะต",
        "pattern_type": "phrase"
      },
      {
        "pattern_id": 47,
        "pattern_text": "ะฒัะฟะพะผะฝะธ",
        "pattern_type": "verb"
      }
    ],
    "responses": [
      {
        "response_id": 21,
        "response_text": "ะญัะพ ะดะฐ, ะฐ ะบัะพ ะฒัะตัะฐ ะพะฟััั ะฝะฐะถัะฐะปัั?",
        "response_weight": 1
      },
      {
        "response_id": 22,
        "response_text": "ะญัะพ ะดะฐ, ะฐ ะฒัะตัะฐ ะบัะพ ะฝะฐะถัะฐะปัั ะบะฐะบ ัะฒะธะฝะพัะฐะฒั?",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 16,
    "trigger_name": "ะัะฐะทั/ะดะตะฑะธะป",
    "tech_key": "MRAZ_DEBIL",
    "priority": 16,
    "probability": 0.25,
    "patterns": [
      {
        "pattern_id": 48,
        "pattern_text": "ะผัะฐะทั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 49,
        "pattern_text": "ะดะตะฑะธะป",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 50,
        "pattern_text": "ััะฟะพะน",
        "pattern_type": "adjective"
      },
      {
        "pattern_id": 127,
        "pattern_text": "ะผัะฐะทะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 128,
        "pattern_text": "ะผัะฐะทะตะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 129,
        "pattern_text": "ะผัะฐะทัะผะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 130,
        "pattern_text": "ะผัะฐะทะพัะฐ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 131,
        "pattern_text": "ะผัะฐะทะพัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 132,
        "pattern_text": "ะผัะฐะทะพัะฐะผะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 133,
        "pattern_text": "ะผัะฐะทะพัััะฒะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 134,
        "pattern_text": "ัะฒะฐัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 135,
        "pattern_text": "ัะฒะฐัะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 136,
        "pattern_text": "ัะตะฑะพะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 137,
        "pattern_text": "ััะฑะพะบ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 138,
        "pattern_text": "ัะตะฑะบะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 139,
        "pattern_text": "ััะฑะบะธ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 140,
        "pattern_text": "ัะตะฑะฐะฝั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 141,
        "pattern_text": "ัะตะฑะฐะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 142,
        "pattern_text": "ะดะตะฑะธะปั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 143,
        "pattern_text": "ะดะตะฑะธะปะฐะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 144,
        "pattern_text": "ะดะตะฑะธะปะพะฒ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 145,
        "pattern_text": "ะธะดะธะพั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 146,
        "pattern_text": "ะธะดะธะพัั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 147,
        "pattern_text": "ะธะดะธะพัะฐะผ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 148,
        "pattern_text": "ะธะดะธะพัะพะฒ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 149,
        "pattern_text": "ะตะฑะปะฐะฝ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 150,
        "pattern_text": "ัะฑะพะฑะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 151,
        "pattern_text": "ะตะฑะพะฑะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 152,
        "pattern_text": "ะตะฑะฐะฝัะบะพ",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 153,
        "pattern_text": "ััะฟะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 154,
        "pattern_text": "ััะฟัะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 155,
        "pattern_text": "ะบะพะฝัะตะฝัะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 156,
        "pattern_text": "ะบะพะฝัะตะฝะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 157,
        "pattern_text": "ะบะพะฝัะตะฝัะต",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 158,
        "pattern_text": "ััะฟะพััะปัะน",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 159,
        "pattern_text": "ััะฟะพััะปะฐั",
        "pattern_type": "noun"
      },
      {
        "pattern_id": 160,
        "pattern_text": "ััะฟะพััะปัะต",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 23,
        "response_text": "ะัะฐะทะพัััะฒะพ! ะัั ะบะฐะบ ะผั ะปัะฑะธะผ!",
        "response_weight": 1
      },
      {
        "response_id": 24,
        "response_text": "ะัััะต ะฑััั ะฟัะพััะพ ัะฒะธะฝะพัะพะฑะฐะบะพะน",
        "response_weight": 1
      }
    ]
  },
  {
    "trigger_id": 17,
    "trigger_name": "ะัะตะทะด",
    "tech_key": "VYEZD",
    "priority": 17,
    "probability": 1,
    "patterns": [
      {
        "pattern_id": 51,
        "pattern_text": "ะฒัะตะทะด",
        "pattern_type": "noun"
      }
    ],
    "responses": [
      {
        "response_id": 25,
        "response_text": "ะัะตะทะด โ ััะพ ะฟัะฐะทะดะฝะธะบ!",
        "response_weight": 1
      },
      {
        "response_id": 26,
        "response_text": "ะะพะฝััั ะฒัะตะณะดะฐ ะฝะฐะดะพ!",
        "response_weight": 1
      }
    ]
  }
]package mybot

import (
	"strings"
)

// escapeMarkdown ัะบัะฐะฝะธััะตั ัะธะผะฒะพะปั Markdown (ะพะฑัะฐั ััะฝะบัะธั)
func escapeMarkdown(text string) string {
	specialChars := []string{"_", "*", "[", "]", "(", ")", "~", "`", ">", "#", "+", "-", "=", "|", "{", "}", ".", "!"}
	result := text
	for _, char := range specialChars {
		result = strings.ReplaceAll(result, char, "\\"+char)
	}
	return result
}
